<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx | ğŸ </title>
    <meta name="description" content="ä¸–ç•Œä¸Šåªæœ‰10ç±»äººï¼šä¸€ç±»æ˜¯æ‡‚äºŒè¿›åˆ¶çš„ï¼Œä¸€ç±»æ˜¯ä¸æ‡‚çš„ã€‚">
    <link rel="preload stylesheet" href="/assets/style.68a3c5e1.css" as="style">
    <script type="module" src="/assets/app.73b4c4cd.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.2ff57350.js">
  <link rel="modulepreload" href="/assets/chunks/theme.7c2adbfc.js">
  <link rel="modulepreload" href="/assets/note_nginx.md.7a0dac77.lean.js">
  <link rel="icon" href="https://c18e-1257416358.cos.accelerate.myqcloud.com/image/32x32.png">
  <link rel="stylesheet" href="https://embed.trydyno.com/embedder.css">
  <meta name="theme-color" content="#fff">
  <meta name="twitter:site" content="@zh_tiger">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://c18e-1257416358.cos.accelerate.myqcloud.com/image/32x32.png">
  <link rel="preconnect" href="https://www.tigerzh.com/document">
  <script>window.dataLayer=window.dataLayer||[];function gtag(){window.dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YBC8HCMM3X");</script>
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-YBC8HCMM3X"></script>
  <script defer="true" src="https://embed.trydyno.com/embedder.js"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-96fb3d2a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fe90ea44></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fe90ea44> Skip to content </a><!--]--><!----><header class="VPNav" data-v-96fb3d2a data-v-b2971fcb><div class="VPNavBar has-sidebar" data-v-b2971fcb data-v-fced7e6f><div class="container" data-v-fced7e6f><div class="title" data-v-fced7e6f><div class="VPNavBarTitle has-sidebar" data-v-fced7e6f data-v-cc85edb7><a class="title" href="/" data-v-cc85edb7><!--[--><!--]--><!----><!--[-->ğŸ <!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fced7e6f><div class="curtain" data-v-fced7e6f></div><div class="content-body" data-v-fced7e6f><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-fced7e6f><!--[--><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fced7e6f data-v-b5d8ae14><span id="main-nav-aria-label" class="visually-hidden" data-v-b5d8ae14>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b5d8ae14 data-v-8bca6c6a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8bca6c6a><span class="text" data-v-8bca6c6a><!----> å·é›† <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8bca6c6a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8bca6c6a><div class="VPMenu" data-v-8bca6c6a data-v-83fd0369><div class="items" data-v-83fd0369><!--[--><!--[--><div class="VPMenuLink" data-v-83fd0369 data-v-23c86de3><a class="VPLink link" href="/cryptocurrency/money.html" data-v-23c86de3 data-v-d871efe7><!--[-->ğŸ’°  åŠ å¯†è´§å¸<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-83fd0369 data-v-23c86de3><a class="VPLink link" href="/tools/ChatGP%E6%8C%87%E4%BB%A4.html" data-v-23c86de3 data-v-d871efe7><!--[-->ğŸšš  å·¥å…·ä½¿ç”¨<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-83fd0369 data-v-23c86de3><a class="VPLink link" href="/log/Gettr.html" data-v-23c86de3 data-v-d871efe7><!--[-->ğŸ’¡  å¼€å‘æ—¥å¿— <!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-83fd0369 data-v-23c86de3><a class="VPLink link" href="/Q&amp;A/%E5%B0%8F%E7%99%BD%E5%85%A5%E8%81%8C%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-23c86de3 data-v-d871efe7><!--[-->â“  å¸¸è§é—®é¢˜ <!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/note/%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97.html" tabindex="0" data-v-b5d8ae14 data-v-02233715 data-v-d871efe7><!--[-->ç¬”è®°<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b5d8ae14 data-v-8bca6c6a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8bca6c6a><span class="text" data-v-8bca6c6a><!----> ä½œå“é›† <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8bca6c6a><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8bca6c6a><div class="VPMenu" data-v-8bca6c6a data-v-83fd0369><div class="items" data-v-83fd0369><!--[--><!--[--><div class="VPMenuGroup" data-v-83fd0369 data-v-1c2232bb><p class="title" data-v-1c2232bb>ä»£è¡¨ä½œ</p><!--[--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/btcalory.html" data-v-23c86de3 data-v-d871efe7><!--[-->å¸å‚²äº¤æ˜“æ‰€<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/gettr.html" data-v-23c86de3 data-v-d871efe7><!--[-->Gettr<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/doctor.html" data-v-23c86de3 data-v-d871efe7><!--[-->å®é“ƒåŒ»ç”Ÿ<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-83fd0369 data-v-1c2232bb><p class="title" data-v-1c2232bb>å•†ä¸šä½œå“</p><!--[--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/bigv.html" data-v-23c86de3 data-v-d871efe7><!--[-->ç¬¨å˜´ç¥å™¨<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/fof-pro.html" data-v-23c86de3 data-v-d871efe7><!--[-->For Pro<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/valuation.html" data-v-23c86de3 data-v-d871efe7><!--[-->å‡€å€¼é¢„ä¼°<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/openalpha.html" data-v-23c86de3 data-v-d871efe7><!--[-->Open Alpha<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-83fd0369 data-v-1c2232bb><p class="title" data-v-1c2232bb>ä¸ªäººä½œå“</p><!--[--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/wallpaper.html" data-v-23c86de3 data-v-d871efe7><!--[-->Wall Paper<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/notemusic.html" data-v-23c86de3 data-v-d871efe7><!--[-->Note Music<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c2232bb data-v-23c86de3><a class="VPLink link" href="/products/coupon.html" data-v-23c86de3 data-v-d871efe7><!--[-->ä¼˜æƒ åˆ¸å°ç¨‹åº<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fced7e6f data-v-2f716b35><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2f716b35 data-v-11391433 data-v-646389c2><span class="check" data-v-646389c2><span class="icon" data-v-646389c2><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-11391433><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-11391433><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fced7e6f data-v-067bdcc1 data-v-a984f2fb><!--[--><a class="VPSocialLink" href="https://github.com/hugozach" aria-label="github" target="_blank" rel="noopener" data-v-a984f2fb data-v-2cf32fe9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://twitter.com/hugoozach" aria-label="twitter" target="_blank" rel="noopener" data-v-a984f2fb data-v-2cf32fe9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fced7e6f data-v-baa6bd21 data-v-8bca6c6a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8bca6c6a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8bca6c6a><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8bca6c6a><div class="VPMenu" data-v-8bca6c6a data-v-83fd0369><!----><!--[--><!--[--><!----><div class="group" data-v-baa6bd21><div class="item appearance" data-v-baa6bd21><p class="label" data-v-baa6bd21>ä¸»é¢˜</p><div class="appearance-action" data-v-baa6bd21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-baa6bd21 data-v-11391433 data-v-646389c2><span class="check" data-v-646389c2><span class="icon" data-v-646389c2><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-11391433><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-11391433><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-baa6bd21><div class="item social-links" data-v-baa6bd21><div class="VPSocialLinks social-links-list" data-v-baa6bd21 data-v-a984f2fb><!--[--><a class="VPSocialLink" href="https://github.com/hugozach" aria-label="github" target="_blank" rel="noopener" data-v-a984f2fb data-v-2cf32fe9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://twitter.com/hugoozach" aria-label="twitter" target="_blank" rel="noopener" data-v-a984f2fb data-v-2cf32fe9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fced7e6f data-v-1b3826a5><span class="container" data-v-1b3826a5><span class="top" data-v-1b3826a5></span><span class="middle" data-v-1b3826a5></span><span class="bottom" data-v-1b3826a5></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-96fb3d2a data-v-b0e34f25><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b0e34f25><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b0e34f25><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b0e34f25>èœå•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b0e34f25 data-v-263797eb><button data-v-263797eb>è¿”å›é¡¶éƒ¨</button><!----></div></div><aside class="VPSidebar" data-v-96fb3d2a data-v-93c30253><div class="curtain" data-v-93c30253></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-93c30253><span class="visually-hidden" id="sidebar-aria-label" data-v-93c30253> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-93c30253><section class="VPSidebarItem level-0 has-active" data-v-93c30253 data-v-24476bf0><div class="item" role="button" tabindex="0" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><h2 class="text" data-v-24476bf0>ğŸ“š ä½¿ç”¨æŒ‡å—</h2><!----></div><div class="items" data-v-24476bf0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>å·¥ç¨‹åŒ–å…¥é—¨æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>å‰ç«¯å·¥ç¨‹åŒ–æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>npm æ’ä»¶å¼€å‘æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/TyepScript%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>TyepScriptæŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/Liunx%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>liunx æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/cert.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>Https é…ç½®æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/ssh.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>SSH  é…ç½®æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/git%20&amp;%20github%20%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>git & github æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/nginx.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>Nginx æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/Docker%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>Docker æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/uWSGI%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>uWSGI æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/vpn.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>MacOS è‡ªå¸¦VPNé“¾æ¥å…¬å¸ç½‘ç»œ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/mac-bind-email.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>MacOS é‚®ç®±æ•™ç¨‹</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/mac-launchctl-task.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>MacOS å®šæ—¶ä»»åŠ¡æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/mysql%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>MacOS mysql å…¥é—¨æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>å“åº”å¼å¸ƒå±€æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E6%B7%B1%E8%89%B2%E6%A8%A1%E5%BC%8F%E6%8C%87%E5%8D%97.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>æ·±è‰²æ¨¡å¼æŒ‡å—</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E5%8F%96%E8%89%B2%E5%99%A8.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>å–è‰²å™¨API</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-93c30253><section class="VPSidebarItem level-0" data-v-93c30253 data-v-24476bf0><div class="item" role="button" tabindex="0" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><h2 class="text" data-v-24476bf0>ğŸ“š ä»£ç è§„èŒƒ</h2><!----></div><div class="items" data-v-24476bf0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/js%E4%B8%8D%E4%BC%98%E9%9B%85%E6%95%99%E7%A8%8B.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>JSä¸ä¼˜é›…æ•™ç¨‹</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/js%E4%BC%98%E9%9B%85%E6%95%99%E7%A8%8B.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>JSä¼˜é›…æ•™ç¨‹</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/React%E4%BC%98%E9%9B%85%E6%95%99%E7%A8%8B.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>Reactä¼˜é›…æ•™ç¨‹</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/Vue%E4%BC%98%E9%9B%85%E6%95%99%E7%A8%8B.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>Vueä¼˜é›…æ•™ç¨‹</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-93c30253><section class="VPSidebarItem level-0" data-v-93c30253 data-v-24476bf0><div class="item" role="button" tabindex="0" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><h2 class="text" data-v-24476bf0>ğŸ“š é«˜çº§è¿›é˜¶</h2><!----></div><div class="items" data-v-24476bf0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E6%89%8B%E5%86%99Promise.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>æ‰‹å†™Promise</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-24476bf0 data-v-24476bf0><div class="item" data-v-24476bf0><div class="indicator" data-v-24476bf0></div><a class="VPLink link link" href="/note/%E9%97%AD%E5%8C%85%E7%9A%84%E5%A4%96%E6%8C%82.html" data-v-24476bf0 data-v-d871efe7><!--[--><p class="text" data-v-24476bf0>é—­åŒ…çš„å¤–æŒ‚</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-96fb3d2a data-v-175a865f><div class="VPDoc has-sidebar has-aside" data-v-175a865f data-v-c66f65bb><!--[--><!--]--><div class="container" data-v-c66f65bb><div class="aside" data-v-c66f65bb><div class="aside-curtain" data-v-c66f65bb></div><div class="aside-container" data-v-c66f65bb><div class="aside-content" data-v-c66f65bb><div class="VPDocAside" data-v-c66f65bb data-v-ad064607><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-ad064607 data-v-6a808bfe><div class="content" data-v-6a808bfe><div class="outline-marker" data-v-6a808bfe></div><div class="outline-title" data-v-6a808bfe>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-6a808bfe><span class="visually-hidden" id="doc-outline-aria-label" data-v-6a808bfe> Table of Contents for current page </span><ul class="root" data-v-6a808bfe data-v-74f884a4><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-ad064607></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c66f65bb><div class="content-container" data-v-c66f65bb><!--[--><!--]--><!----><main class="main" data-v-c66f65bb><div style="position:relative;" class="vp-doc _note_nginx" data-v-c66f65bb><div><h1 id="nginx" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;Nginx&quot;">â€‹</a></h1><h2 id="ç®€ä»‹" tabindex="-1"><strong>ç®€ä»‹</strong> <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to &quot;**ç®€ä»‹**&quot;">â€‹</a></h2><p>è½»é‡ã€å¼€æºã€HTTPæœåŠ¡å™¨è½¯ä»¶ï¼å¯ä»¥å’Œapacheé…åˆä½¿ç”¨ã€‚</p><p>nginxåŸºäºäº‹ä»¶å’Œå¼‚æ­¥æ“ä½œï¼Œè®¿é—®é‡å¾ˆå¤§çš„æ—¶å€™å¯ä»¥è½»æ¾å¤„ç†ï¼›</p><p>apacheä¾èµ–äºçº¿ç¨‹ï¼Œè®¿é—®é‡å¤§ä¼šå¤§é‡æ–°å¢çº¿ç¨‹ï¼Œå¾ˆå¿«è€—å°½å†…å­˜ã€‚</p><h2 id="nginxçš„å®‰è£…" tabindex="-1">Nginxçš„å®‰è£… <a class="header-anchor" href="#nginxçš„å®‰è£…" aria-label="Permalink to &quot;Nginxçš„å®‰è£…&quot;">â€‹</a></h2><p>Nginxçš„å®‰è£…å¾ˆç®€å•ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šï¼Œè¿™é‡Œä»…ä»¥Ubuntuç³»ç»Ÿ(Linux)æ¼”ç¤ºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å®‰è£…nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¯åŠ¨nginxæœåŠ¡</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span></span></code></pre></div><p>Nginxå¯åŠ¨æ—¶é€šå¸¸ä¼šä½¿ç”¨é»˜è®¤è®¾ç½®, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥è®©è‡ªå·±çš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># åˆ é™¤/etc/nginx/sites-available/ç›®å½•ä¸‹é»˜è®¤è‡ªå®šä¹‰é…ç½®</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/sites-available/default</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># sites-availableç›®å½•ä¸‹æ–°å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶,å¯ä»¥1ä¸ªç½‘ç«™1ä¸ª</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nano</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/sites-available/myapp1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¸sites-enabledç›®å½•å»ºç«‹è½¯é“¾ï¼Œå¯è®©è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/sites-available/myapp1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/sites-enabled</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ£€æŸ¥nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é—®é¢˜</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">â€“t</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># é‡å¯nginxæœåŠ¡</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span></span></code></pre></div><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ ä¸æ˜¯ä½¿ç”¨<code>sudo apt-get</code>å‘½ä»¤å®‰è£…çš„nginxï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨<code>yum</code>å‘½ä»¤æˆ–dockeré•œåƒå®‰è£…çš„ï¼Œnginxçš„é»˜è®¤è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä½äº<code>/etc/nginx/conf.d/default.conf</code>ã€‚å¦‚æœä½ å¸Œæœ›è®©è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œä½ éœ€è¦å…ˆåˆ é™¤è¿™ä¸ªé»˜è®¤é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨``/etc/nginx/conf.d/<code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª</code>nginx.conf`ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨dockerå®‰è£…nginxï¼ŒDockerfileé‡Œå¯ä»¥è®¾ç½®å°†å®¿ä¸»æœºçš„å½“å‰ç›®å½•ä¸‹çš„<code>nginx.conf</code>å¤åˆ¶ä¸€ä»½åˆ°çš„å®¹å™¨å†…çš„<code>/etc/nginx/conf.d/</code>çš„ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># nginxé•œåƒDockerfile</span></span>
<span class="line"><span style="color:#FFCB6B;">FROM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># åˆ é™¤åŸæœ‰é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºé™æ€èµ„æºæ–‡ä»¶å¤¹å’Œsslè¯ä¹¦ä¿å­˜æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#FFCB6B;">RUN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/conf.d/default.conf</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å°†è‡ªå®šä¹‰é…ç½®æ–‡ä»¶nginx.confå¤åˆ¶åˆ°å®¹å™¨å†…/etc/nginx/conf.d/ç›®å½•</span></span>
<span class="line"><span style="color:#FFCB6B;">ADD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./nginx.conf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/conf.d/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å…³é—­å®ˆæŠ¤æ¨¡å¼</span></span>
<span class="line"><span style="color:#FFCB6B;">CMD</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-g</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">daemon off;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span></span></code></pre></div><h2 id="nginxé…ç½®æ–‡ä»¶æ„æˆ" tabindex="-1">Nginxé…ç½®æ–‡ä»¶æ„æˆ <a class="header-anchor" href="#nginxé…ç½®æ–‡ä»¶æ„æˆ" aria-label="Permalink to &quot;Nginxé…ç½®æ–‡ä»¶æ„æˆ&quot;">â€‹</a></h2><p>ä¸€ä¸ªNginxé…ç½®æ–‡ä»¶é€šå¸¸åŒ…å«3ä¸ªæ¨¡å—ï¼š</p><ul><li>å…¨å±€å—ï¼šæ¯”å¦‚å·¥ä½œè¿›ç¨‹æ•°ï¼Œå®šä¹‰æ—¥å¿—è·¯å¾„ï¼›</li><li>Eventså—ï¼šè®¾ç½®å¤„ç†è½®è¯¢äº‹ä»¶æ¨¡å‹ï¼Œæ¯ä¸ªå·¥ä½œè¿›ç¨‹æœ€å¤§è¿æ¥æ•°åŠhttpå±‚çš„keep-aliveè¶…æ—¶æ—¶é—´ï¼›</li><li>httpå—ï¼šè·¯ç”±åŒ¹é…ã€é™æ€æ–‡ä»¶æœåŠ¡å™¨ã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰ã€‚</li></ul><p>å…¶ä¸­httpå—åˆå¯ä»¥è¿›ä¸€æ­¥åˆ†æˆ3å—ï¼Œhttpå…¨å±€å—é‡Œçš„é…ç½®å¯¹æ‰€æœ‰ç«™ç‚¹ç”Ÿæ•ˆï¼Œserverå—é…ç½®ä»…å¯¹å•ä¸ªç«™ç‚¹ç”Ÿæ•ˆï¼Œè€Œlocationå—çš„é…ç½®ä»…å¯¹å•ä¸ªé¡µé¢æˆ–urlç”Ÿæ•ˆã€‚</p><h2 id="nginxé…ç½®æ–‡ä»¶ç¤ºä¾‹" tabindex="-1">Nginxé…ç½®æ–‡ä»¶ç¤ºä¾‹ <a class="header-anchor" href="#nginxé…ç½®æ–‡ä»¶ç¤ºä¾‹" aria-label="Permalink to &quot;Nginxé…ç½®æ–‡ä»¶ç¤ºä¾‹&quot;">â€‹</a></h2><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å…¨å±€å—</span></span>
<span class="line"><span style="color:#89DDFF;">user </span><span style="color:#A6ACCD;">www-data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">worker_processes </span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">## é»˜è®¤1ï¼Œä¸€èˆ¬å»ºè®®è®¾æˆCPUæ ¸æ•°1-2å€</span></span>
<span class="line"><span style="color:#89DDFF;">error_log </span><span style="color:#A6ACCD;"> logs/error.log</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## é”™è¯¯æ—¥å¿—è·¯å¾„</span></span>
<span class="line"><span style="color:#89DDFF;">pid </span><span style="color:#A6ACCD;"> logs/nginx.pid</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">## è¿›ç¨‹id</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Eventså—</span></span>
<span class="line"><span style="color:#C792EA;">events</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨epollçš„I/O æ¨¡å‹å¤„ç†è½®è¯¢äº‹ä»¶ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å¯ä»¥ä¸è®¾ç½®ï¼Œnginxä¼šæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©åˆé€‚çš„æ¨¡å‹</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> use </span><span style="color:#A6ACCD;">epoll</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å·¥ä½œè¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°é‡, é»˜è®¤1024ä¸ª</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> worker_connections </span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2048</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># httpå±‚é¢çš„keep-aliveè¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> keepalive_timeout </span><span style="color:#A6ACCD;">60</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> client_header_buffer_size </span><span style="color:#A6ACCD;">2k</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">http</span><span style="color:#A6ACCD;"> { </span><span style="color:#676E95;font-style:italic;"># httpå…¨å±€å—</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> include </span><span style="color:#A6ACCD;">mime.types</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å¯¼å…¥æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> default_type </span><span style="color:#A6ACCD;">application/octet-stream</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># é»˜è®¤æ–‡ä»¶ç±»å‹</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æ—¥å¿—æ ¼å¼åŠaccessæ—¥å¿—è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> log_format </span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> main</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_addr</span><span style="color:#C3E88D;"> - </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_user</span><span style="color:#C3E88D;"> [</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">time_local</span><span style="color:#C3E88D;">]  </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#C3E88D;"> &#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">&#39;&quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">request</span><span style="color:#C3E88D;">&quot; </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">body_bytes_sent</span><span style="color:#C3E88D;"> &quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_referer</span><span style="color:#C3E88D;">&quot; &#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">&#39;&quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_user_agent</span><span style="color:#C3E88D;">&quot; &quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_x_forwarded_for</span><span style="color:#C3E88D;">&quot;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> access_log </span><span style="color:#A6ACCD;">  logs/access.log </span><span style="color:#89DDFF;"> main;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å…è®¸sendfileæ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºoffã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> sendfile </span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> on;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> tcp_nopush </span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;"> on;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># sendfileå¼€å¯æ—¶æ‰å¼€å¯ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># http serverå—</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># ç®€å•åå‘ä»£ç†</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;"> domain2.com www.domain2.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> access_log </span><span style="color:#A6ACCD;">  logs/domain2.access.log </span><span style="color:#89DDFF;"> main;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è½¬å‘åŠ¨æ€è¯·æ±‚åˆ°webåº”ç”¨æœåŠ¡å™¨</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">     http://127.0.0.1:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> deny </span><span style="color:#A6ACCD;">192.24.40.8</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æ‹’ç»çš„ip</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> allow </span><span style="color:#A6ACCD;">192.24.40.6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># å…è®¸çš„ip   </span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># é”™è¯¯é¡µé¢</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> error_page </span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">500</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">502</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">503</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">504</span><span style="color:#A6ACCD;">  /50x.html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/50x.html </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> root </span><span style="color:#A6ACCD;">  html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># è´Ÿè½½å‡è¡¡</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">backend_server </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.1:8000 </span><span style="color:#A6ACCD;font-style:italic;">weight</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">; </span><span style="color:#676E95;font-style:italic;"># weightè¶Šé«˜ï¼Œæƒé‡è¶Šå¤§</span></span>
<span class="line"><span style="color:#A6ACCD;">    server 192.168.0.2:8000 </span><span style="color:#A6ACCD;font-style:italic;">weight</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    server 192.168.0.3:8000;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.4:8001 backup; </span><span style="color:#676E95;font-style:italic;"># çƒ­å¤‡</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">    big.server.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> access_log </span><span style="color:#A6ACCD;">     logs/big.server.access.log</span><span style="color:#89DDFF;"> main;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> charset </span><span style="color:#A6ACCD;">utf-8</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> client_max_body_size </span><span style="color:#A6ACCD;">10M</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># é™åˆ¶ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨proxy_passè½¬å‘è¯·æ±‚åˆ°é€šè¿‡upstreamå®šä¹‰çš„ä¸€ç»„åº”ç”¨æœåŠ¡å™¨</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">     http://backend_server</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Real-IP  </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_addr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»”ç»†åˆ†æä¸‹Nginxå„ä¸ªæ¨¡å—çš„é…ç½®é€‰é¡¹ã€‚</p><h2 id="nginx-locationé…ç½®" tabindex="-1">Nginx Locationé…ç½® <a class="header-anchor" href="#nginx-locationé…ç½®" aria-label="Permalink to &quot;Nginx Locationé…ç½®&quot;">â€‹</a></h2><p>Nginx Locationé…ç½®æ˜¯Nginxçš„æ ¸å¿ƒé…ç½®ï¼Œå®ƒè´Ÿè´£åŒ¹é…è¯·æ±‚çš„url, å¹¶æ ¹æ®Locationé‡Œå®šä¹‰çš„è§„åˆ™æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œæ¯”å¦‚æ‹’ç»ã€è½¬å‘ã€é‡å®šå‘æˆ–ç›´æ¥æä¾›æ–‡ä»¶ä¸‹è½½ã€‚</p><h2 id="urlåŒ¹é…æ–¹å¼åŠä¼˜å…ˆçº§" tabindex="-1">URLåŒ¹é…æ–¹å¼åŠä¼˜å…ˆçº§ <a class="header-anchor" href="#urlåŒ¹é…æ–¹å¼åŠä¼˜å…ˆçº§" aria-label="Permalink to &quot;URLåŒ¹é…æ–¹å¼åŠä¼˜å…ˆçº§&quot;">â€‹</a></h2><p>Nginxçš„Locationé…ç½®æ”¯æŒæ™®é€šå­—ç¬¦ä¸²åŒ¹é…å’Œæ­£åˆ™åŒ¹é…ï¼Œä¸è¿‡urlçš„å„ç§åŒ¹é…æ–¹å¼æ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th>åŒ¹é…ç¬¦</th><th>åŒ¹é…è§„åˆ™</th><th>ä¼˜å…ˆçº§</th></tr></thead><tbody><tr><td>=</td><td>ç²¾ç¡®åŒ¹é…</td><td>1</td></tr><tr><td>^~</td><td>ä»¥æŸä¸ªå­—ç¬¦ä¸²å¼€å¤´</td><td>2</td></tr><tr><td>~</td><td>åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</td><td>3</td></tr><tr><td>~*</td><td>ä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</td><td>4</td></tr><tr><td>!~</td><td>åŒºåˆ†å¤§å°å†™çš„ä¸åŒ¹é…æ­£åˆ™</td><td>5</td></tr><tr><td>!~*</td><td>ä¸åŒºåˆ†å¤§å°å†™çš„ä¸åŒ¹é…æ­£åˆ™</td><td>6</td></tr><tr><td>/</td><td>é€šç”¨åŒ¹é…ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°</td><td>7</td></tr></tbody></table><p>ä¸ºäº†åŠ æ·±ä½ çš„ç†è§£ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä¸‹ä¸€ä¸ªä¾‹å­ã€‚ç”±äºè§„åˆ™2çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œå½“ç”¨æˆ·è®¿é—®<code>/static/</code>æˆ–åˆ™<code>/static/123.html</code>æ—¶ï¼ŒNginxä¼šä¼˜å…ˆæ‰§è¡Œè§„åˆ™2é‡Œçš„æ“ä½œï¼Œå…¶å®ƒçš„çš„è¯·æ±‚åˆ™ä¼šäº¤ç”±è§„åˆ™1æ‰§è¡Œã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è§„åˆ™1ï¼šé€šç”¨åŒ¹é…</span></span>
<span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è§„åˆ™2ï¼šå¤„ç†ä»¥/static/å¼€å¤´çš„url</span></span>
<span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/static</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">                         </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/nginx/html/static</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># é™æ€èµ„æºè·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p><strong>æ³¨æ„</strong>ï¼šä¸Šä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº†<code>alias</code>åˆ«åè®¾ç½®äº†é™æ€æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code>root</code>æŒ‡å®šé™æ€æ–‡ä»¶ç›®å½•ã€‚æ³¨æ„ï¼š<code>alias</code>å’Œ<code>root</code>æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><ul><li><code>root</code>å¯¹è·¯å¾„çš„å¤„ç†ï¼šrootè·¯å¾„ ï¼‹ locationè·¯å¾„</li><li><code>alias</code>å¯¹è·¯å¾„çš„å¤„ç†ï¼šä½¿ç”¨aliasè·¯å¾„æ›¿æ¢locationè·¯å¾„</li></ul><p>å¦‚æœç”¨<code>root</code>è®¾ç½®é™æ€æ–‡ä»¶èµ„æºè·¯å¾„ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹ä»£ç è®¾ç½®ã€‚ä¸¤è€…æ˜¯ç­‰åŒçš„ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è§„åˆ™2ï¼šå¤„ç†ä»¥/static/å¼€å¤´çš„url</span></span>
<span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/static</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">                         </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/nginx/html</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># é™æ€èµ„æºè·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>Locationè¿˜æ”¯æŒæ­£åˆ™åŒ¹é…ï¼Œæ¯”å¦‚ä¸‹ä¾‹å¯ä»¥ç¦æ­¢ç”¨æˆ·è®¿é—®æ‰€æœ‰çš„å›¾ç‰‡æ ¼å¼æ–‡ä»¶ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># æ‹’ç»è®¿é—®æ‰€æœ‰å›¾ç‰‡æ ¼å¼æ–‡ä»¶</span></span>
<span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;">\.</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">jpg</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">gif</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">png</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">jpeg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">$ </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">deny</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="è¯·æ±‚è½¬å‘å’Œé‡å®šå‘" tabindex="-1">è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ <a class="header-anchor" href="#è¯·æ±‚è½¬å‘å’Œé‡å®šå‘" aria-label="Permalink to &quot;è¯·æ±‚è½¬å‘å’Œé‡å®šå‘&quot;">â€‹</a></h2><p>å¦ä¸€ä¸ªæˆ‘ä»¬åœ¨Locationå—é‡Œç»å¸¸é…ç½®çš„å°±æ˜¯è½¬å‘è¯·æ±‚æˆ–é‡å®šå‘ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è½¬å‘åŠ¨æ€è¯·æ±‚</span></span>
<span class="line"><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">                                                         </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">                                               </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">client_max_body_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#C3E88D;">M</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://localhost:8080</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Host</span><span style="color:#A6ACCD;"> $host</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">$server_port</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># httpè¯·æ±‚é‡å®šå‘åˆ°httpsè¯·æ±‚</span></span>
<span class="line"><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">domain.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">301</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://</span><span style="color:#A6ACCD;">$server_name$request_uri</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>æ— è®ºæ˜¯è½¬å‘è¯·æ±‚è¿˜æ˜¯é‡å®šå‘ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨äº†ä»¥<code>$</code>ç¬¦å·å¼€å¤´çš„å˜é‡ï¼Œè¿™äº›éƒ½æ˜¯Nginxæä¾›çš„å…¨å±€å˜é‡ã€‚å®ƒä»¬çš„å…·ä½“å«ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">$args, è¯·æ±‚ä¸­çš„å‚æ•°</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$content_length, HTTPè¯·æ±‚ä¿¡æ¯é‡Œçš„</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Content-Length</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$content_type, è¯·æ±‚ä¿¡æ¯é‡Œçš„</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Content-Type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$document_root, é’ˆå¯¹å½“å‰è¯·æ±‚çš„æ ¹è·¯å¾„è®¾ç½®å€¼</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$document_uri, ä¸$uriç›¸åŒ</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$host, è¯·æ±‚ä¿¡æ¯ä¸­çš„</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Host</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">ï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰Hostè¡Œï¼Œåˆ™ç­‰äºè®¾ç½®çš„æœåŠ¡å™¨å</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$limit_rate, å¯¹è¿æ¥é€Ÿç‡çš„é™åˆ¶</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$request_method, è¯·æ±‚çš„æ–¹æ³•ï¼Œæ¯”å¦‚</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GET</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">ã€</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">POST</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">ç­‰</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$remote_addr, å®¢æˆ·ç«¯åœ°å€</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$remote_port, å®¢æˆ·ç«¯ç«¯å£å·</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$remote_user, å®¢æˆ·ç«¯ç”¨æˆ·åï¼Œè®¤è¯ç”¨</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$request_filename, å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„å</span></span>
<span class="line"><span style="color:#A6ACCD;">$request_body_file,å½“å‰è¯·æ±‚çš„æ–‡ä»¶</span></span>
<span class="line"><span style="color:#A6ACCD;">$request_uri, è¯·æ±‚çš„URIï¼Œå¸¦æŸ¥è¯¢å­—ç¬¦ä¸²</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$query_string, ä¸$argsç›¸åŒ</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$scheme, æ‰€ç”¨çš„åè®®ï¼Œæ¯”å¦‚httpæˆ–è€…æ˜¯httpsï¼Œæ¯”å¦‚rewrite ^</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;">+</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">$ $scheme://example.com</span><span style="color:#A6ACCD;font-style:italic;">$1</span><span style="color:#A6ACCD;"> redirect</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$server_protocol, è¯·æ±‚çš„åè®®ç‰ˆæœ¬ï¼Œ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">HTTP/1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">æˆ–</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">HTTP/1.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$server_addr, æœåŠ¡å™¨åœ°å€</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$server_name, è¯·æ±‚åˆ°è¾¾çš„æœåŠ¡å™¨å</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$server_port, è¯·æ±‚åˆ°è¾¾çš„æœåŠ¡å™¨ç«¯å£å·</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">$uri, è¯·æ±‚çš„URIï¼Œå¯èƒ½å’Œæœ€åˆçš„å€¼æœ‰ä¸åŒï¼Œæ¯”å¦‚ç»è¿‡é‡å®šå‘ä¹‹ç±»çš„ã€‚</span></span></code></pre></div><p>çŸ¥é“è¿™äº›å…¨å±€å˜é‡çš„å«ä¹‰åï¼Œæˆ‘ä»¬å°±å¯ä»¥é™åˆ¶ç”¨æˆ·çš„è¯·æ±‚æ–¹æ³•ã€‚æ¯”å¦‚ä¸‹ä¾‹ä¸­é…ç½®äº†åªå…è®¸ç”¨æˆ·é€šè¿‡POSTæ–¹æ³•è®¿é—®ï¼Œå…¶ä»–çš„è¯·æ±‚æ–¹æ³•åˆ™è¿”å›405ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$request_method </span><span style="color:#89DDFF;">!</span><span style="color:#FFCB6B;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">GET</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">POST</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">$ </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">405</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="nginxé™æ€æ–‡ä»¶é…ç½®" tabindex="-1">Nginxé™æ€æ–‡ä»¶é…ç½® <a class="header-anchor" href="#nginxé™æ€æ–‡ä»¶é…ç½®" aria-label="Permalink to &quot;Nginxé™æ€æ–‡ä»¶é…ç½®&quot;">â€‹</a></h2><p>Nginxå¯ç›´æ¥ä½œä¸ºå¼ºå¤§çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ä½¿ç”¨ï¼Œæ”¯æŒå¯¹é™æ€æ–‡ä»¶è¿›è¡Œç¼“å­˜è¿˜å¯ä»¥ç›´æ¥å°†Nginxä½œä¸ºæ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨ä½¿ç”¨ã€‚</p><h2 id="é™æ€æ–‡ä»¶ç¼“å­˜" tabindex="-1">é™æ€æ–‡ä»¶ç¼“å­˜ <a class="header-anchor" href="#é™æ€æ–‡ä»¶ç¼“å­˜" aria-label="Permalink to &quot;é™æ€æ–‡ä»¶ç¼“å­˜&quot;">â€‹</a></h2><p>ç¼“å­˜å¯ä»¥åŠ å¿«ä¸‹æ¬¡é™æ€æ–‡ä»¶åŠ è½½é€Ÿåº¦ã€‚æˆ‘ä»¬å¾ˆå¤šä¸ç½‘ç«™æ ·å¼ç›¸å…³çš„æ–‡ä»¶æ¯”å¦‚csså’Œjsæ–‡ä»¶ä¸€èˆ¬ä¸æ€ä¹ˆå˜åŒ–ï¼Œç¼“å­˜æœ‰æ•ˆå™¨å¯ä»¥é€šè¿‡<code>expires</code>é€‰é¡¹è®¾ç½®å¾—é•¿ä¸€äº›ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨expiresé€‰é¡¹å¼€å¯é™æ€æ–‡ä»¶ç¼“å­˜ï¼Œ10å¤©æœ‰æ•ˆ</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^/</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">images</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">javascript</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">js</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">css</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">flash</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">media</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">static</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">/var/www/big.server.com/static_files</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">expires</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">d</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span></code></pre></div><h2 id="é™æ€æ–‡ä»¶å‹ç¼©" tabindex="-1">é™æ€æ–‡ä»¶å‹ç¼© <a class="header-anchor" href="#é™æ€æ–‡ä»¶å‹ç¼©" aria-label="Permalink to &quot;é™æ€æ–‡ä»¶å‹ç¼©&quot;">â€‹</a></h2><p>Nginxå¯ä»¥å¯¹ç½‘ç«™çš„cssã€js ã€xmlã€html æ–‡ä»¶åœ¨ä¼ è¾“å‰è¿›è¡Œå‹ç¼©ï¼Œå¤§å¹…æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ç»è¿‡Gzipå‹ç¼©åé¡µé¢å¤§å°å¯ä»¥å˜ä¸ºåŸæ¥çš„30%ç”šè‡³æ›´å°ã€‚ä½¿ç”¨æ—¶ä»…éœ€å¼€å¯Gzipå‹ç¼©åŠŸèƒ½å³å¯ã€‚ä½ å¯ä»¥åœ¨httpå…¨å±€å—æˆ–serverå—å¢åŠ è¿™ä¸ªé…ç½®ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># å¼€å¯gzipå‹ç¼©åŠŸèƒ½</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å…è®¸å‹ç¼©çš„é¡µé¢æœ€å°å­—èŠ‚æ•°; è¿™é‡Œè¡¨ç¤ºå¦‚æœæ–‡ä»¶å°äº10kï¼Œå‹ç¼©æ²¡æœ‰æ„ä¹‰.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_min_length</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å‹ç¼©æ¯”ç‡ï¼Œæœ€å°ä¸º1ï¼Œå¤„ç†é€Ÿåº¦å¿«ï¼Œä¼ è¾“é€Ÿåº¦æ…¢ï¼›</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 9ä¸ºæœ€å¤§å‹ç¼©æ¯”ï¼Œå¤„ç†é€Ÿåº¦æ…¢ï¼Œä¼ è¾“é€Ÿåº¦å¿«; æ¨è6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_comp_level</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å‹ç¼©ç¼“å†²åŒºå¤§å°ï¼Œæ­¤å¤„è®¾ç½®ä¸º16ä¸ª8Kå†…å­˜ä½œä¸ºå‹ç¼©ç»“æœç¼“å†²</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_buffers</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å“ªäº›æ–‡ä»¶éœ€è¦å‹ç¼©,ä¸€èˆ¬æ–‡æœ¬ï¼Œcsså’Œjså»ºè®®å‹ç¼©ã€‚å›¾ç‰‡è§†éœ€è¦è¦é”ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_types</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/plain</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/css</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/json</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/x-javascript</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/xml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/xml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/xml+rss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨" tabindex="-1">æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨ <a class="header-anchor" href="#æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨" aria-label="Permalink to &quot;æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨&quot;">â€‹</a></h2><p>Nginxä¹Ÿå¯ç›´æ¥åšæ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨ä½¿ç”¨ï¼Œåœ¨locationå—è®¾ç½®<code>autoindex</code>ç›¸å…³é€‰é¡¹å³å¯ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default_server</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> [::]:80 default_server</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/download</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># ä¸‹è½½æ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/nginx/html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># å¼€å¯ç´¢å¼•åŠŸèƒ½</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">autoindex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">autoindex_exact_size</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">#æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€Œé GMT æ—¶é—´</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">autoindex_localtime</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># å¯¹äºtxtå’Œjpgæ–‡ä»¶ï¼Œå¼ºåˆ¶ä»¥é™„ä»¶å½¢å¼ä¸‹è½½ï¼Œä¸è¦æµè§ˆå™¨ç›´æ¥æ‰“å¼€</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$request_filename </span><span style="color:#89DDFF;">~*</span><span style="color:#A6ACCD;"> ^.</span><span style="color:#89DDFF;">*?</span><span style="color:#A6ACCD;">\.</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">txt</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">jpg</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">png</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">$</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">add_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Content-Disposition</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">attachment</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="nginxé…ç½®https" tabindex="-1">Nginxé…ç½®HTTPS <a class="header-anchor" href="#nginxé…ç½®https" aria-label="Permalink to &quot;Nginxé…ç½®HTTPS&quot;">â€‹</a></h2><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è´Ÿè½½å‡è¡¡ï¼Œè®¾ç½®HTTPS</span></span>
<span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">backend_server </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> APP_SERVER_1_IP;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> APP_SERVER_2_IP;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ç¦æ­¢æœªç»‘å®šåŸŸåè®¿é—®ï¼Œæ¯”å¦‚é€šè¿‡ipåœ°å€è®¿é—®</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 444:è¯¥ç½‘é¡µæ— æ³•æ­£å¸¸è¿ä½œï¼Œæœªå‘é€ä»»ä½•æ•°æ®</span></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">80</span><span style="color:#89DDFF;"> default_server;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">444</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># HTTPè¯·æ±‚é‡å®šå‘è‡³HTTPSè¯·æ±‚</span></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">[::]:80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">your_domain.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-Proto </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">scheme</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">http://backend_server</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">     }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">301</span><span style="color:#A6ACCD;"> https://</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">server_name</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">request_uri;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">443 ssl http2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">[::]:443 ssl http2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">your_domain.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># sslè¯ä¹¦åŠå¯†é’¥è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> ssl_certificate </span><span style="color:#A6ACCD;">/path/to/your/fullchain.pem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> ssl_certificate_key </span><span style="color:#A6ACCD;">/path/to/your/privkey.pem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># SSLä¼šè¯ä¿¡æ¯</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> client_max_body_size </span><span style="color:#A6ACCD;">75MB</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> keepalive_timeout </span><span style="color:#A6ACCD;">10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-Proto </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">scheme</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">http://django</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># Django+uwsgiä¸åœ¨æœ¬æœºä¸Šï¼Œä½¿ç”¨ä»£ç†è½¬å‘</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="nginxæ—¥å¿—é…ç½®" tabindex="-1">Nginxæ—¥å¿—é…ç½® <a class="header-anchor" href="#nginxæ—¥å¿—é…ç½®" aria-label="Permalink to &quot;Nginxæ—¥å¿—é…ç½®&quot;">â€‹</a></h2><p>Nginxçš„æ—¥å¿—ä¸»è¦åŒ…æ‹¬è®¿é—®æ—¥å¿—<code>access_log</code>å’Œé”™è¯¯æ—¥å¿—<code>error_log</code>ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡<code>log_format</code>å®šä¹‰æ—¥å¿—æ ¼å¼ã€‚ä½ å¯ä»¥åœ¨å…¨å±€å—ï¼ŒServerå—æˆ–Locationå—å®šä¹‰æ—¥å¿—ã€‚æ¯”å¦‚ä¸‹ä¾‹åœ¨httpå—ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º<code>main</code>çš„æ—¥å¿—æ ¼å¼ï¼Œæ‰€æœ‰ç«™ç‚¹çš„æ—¥å¿—éƒ½ä¼šæŒ‰è¿™ä¸ªæ ¼å¼è®°å½•ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># æ—¥å¿—æ ¼å¼åŠaccessæ—¥å¿—è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">log_format</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">main</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$remote_addr - $remote_user [$time_local]  $status </span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&#39;&quot;$request&quot; $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">access_log</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">logs/access.log</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p><code>access_log</code>æ–‡ä»¶éšç€è®¿é—®è®°å½•å¢å¤šæœ‰å¯èƒ½å˜å¾—éå¸¸å¤§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>access_log off</code>å…³é—­ä¸€äº›ä¸éœ€è¦è®°å½•çš„è®¿é—®ã€‚æ¯”å¦‚å½“ä¸€ä¸ªç«™ç‚¹æ²¡æœ‰è®¾ç½®favicon.icoæ—¶ï¼Œ<code>access_log</code>ä¼šè®°å½•äº†å¤§é‡favicon.ico 404ä¿¡æ¯, è¿™æ˜¯æ²¡æœ‰å¿…è¦çš„, å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å…³é—­è®¿é—®æ—¥å¿—è®°å½•ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/favicon.ico</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">log_not_found</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">access_log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># ä¸åœ¨access_logè®°å½•è¯¥é¡¹è®¿é—®</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="nginxè¶…æ—¶è®¾ç½®" tabindex="-1">Nginxè¶…æ—¶è®¾ç½® <a class="header-anchor" href="#nginxè¶…æ—¶è®¾ç½®" aria-label="Permalink to &quot;Nginxè¶…æ—¶è®¾ç½®&quot;">â€‹</a></h2><p>Nginxæä¾›äº†å¾ˆå¤šè¶…æ—¶è®¾ç½®é€‰é¡¹ï¼Œç›®çš„æ˜¯ä¿æŠ¤æœåŠ¡å™¨èµ„æºï¼ŒCPUï¼Œå†…å­˜å¹¶æ§åˆ¶è¿æ¥æ•°ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…é¡¹ç›®éœ€æ±‚åœ¨å…¨å±€å—ã€Serverå—å’ŒLocationå—è¿›è¡Œé…ç½®ã€‚</p><h2 id="è¯·æ±‚è¶…æ—¶è®¾ç½®" tabindex="-1">è¯·æ±‚è¶…æ—¶è®¾ç½® <a class="header-anchor" href="#è¯·æ±‚è¶…æ—¶è®¾ç½®" aria-label="Permalink to &quot;è¯·æ±‚è¶…æ—¶è®¾ç½®&quot;">â€‹</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å®¢æˆ·ç«¯è¿æ¥ä¿æŒä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼ŒæœåŠ¡å™¨æ–­å¼€è¿™ä¸ªé“¾æ¥ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">keepalive_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è®¾ç½®è¯·æ±‚å¤´çš„è¶…æ—¶æ—¶é—´ï¼Œå¯ä»¥è®¾ç½®ä½ç‚¹ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´æ²¡æœ‰å‘é€ä»»ä½•æ•°æ®ï¼Œnginxå°†è¿”å›request time outçš„é”™è¯¯ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">client_header_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è®¾ç½®è¯·æ±‚ä½“çš„è¶…æ—¶æ—¶é—´ï¼Œå¯ä»¥è®¾ç½®ä½ç‚¹ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´æ²¡æœ‰å‘é€ä»»ä½•æ•°æ®ï¼Œnginxå°†è¿”å›request time outçš„é”™è¯¯ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">client_body_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å“åº”å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰ä»»ä½•æ´»åŠ¨ï¼Œnginxå…³é—­è¿æ¥ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">send_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶</span></span>
<span class="line"><span style="color:#FFCB6B;">client_max_body_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">m</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¹Ÿæ˜¯é˜²æ­¢ç½‘ç»œé˜»å¡ï¼Œä¸è¿‡è¦åŒ…æ¶µåœ¨keepalivedå‚æ•°æ‰æœ‰æ•ˆã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">tcp_nodelay</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ®ä½ çš„ç³»ç»Ÿåˆ†é¡µå¤§å°æ¥è®¾ç½®ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä¸€èˆ¬ä¸€ä¸ªè¯·æ±‚å¤´çš„å¤§å°ä¸ä¼šè¶…è¿‡ 1kï¼Œä¸è¿‡ç”±äºä¸€èˆ¬ç³»ç»Ÿåˆ†é¡µéƒ½è¦å¤§äº1k</span></span>
<span class="line"><span style="color:#FFCB6B;">client_header_buffer_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è¿™ä¸ªå°†ä¸ºæ‰“å¼€æ–‡ä»¶æŒ‡å®šç¼“å­˜ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨çš„ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># maxæŒ‡å®šç¼“å­˜æ•°é‡ï¼Œå»ºè®®å’Œæ‰“å¼€æ–‡ä»¶æ•°ä¸€è‡´ï¼Œinactive æ˜¯æŒ‡ç»è¿‡å¤šé•¿æ—¶é—´æ–‡ä»¶æ²¡è¢«è¯·æ±‚ååˆ é™¤ç¼“å­˜ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">open_file_cache</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">max=</span><span style="color:#F78C6C;">102400</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inactive=</span><span style="color:#F78C6C;">20</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è¿™ä¸ªæ˜¯æŒ‡å¤šé•¿æ—¶é—´æ£€æŸ¥ä¸€æ¬¡ç¼“å­˜çš„æœ‰æ•ˆä¿¡æ¯ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">open_file_cache_valid</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å‘Šè¯‰nginxå…³é—­ä¸å“åº”çš„å®¢æˆ·ç«¯è¿æ¥ã€‚è¿™å°†ä¼šé‡Šæ”¾é‚£ä¸ªå®¢æˆ·ç«¯æ‰€å æœ‰çš„å†…å­˜ç©ºé—´ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">reset_timedout_connection</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="proxyåå‘ä»£ç†è¶…æ—¶è®¾ç½®" tabindex="-1">Proxyåå‘ä»£ç†è¶…æ—¶è®¾ç½® <a class="header-anchor" href="#proxyåå‘ä»£ç†è¶…æ—¶è®¾ç½®" aria-label="Permalink to &quot;Proxyåå‘ä»£ç†è¶…æ—¶è®¾ç½®&quot;">â€‹</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è¯¥æŒ‡ä»¤è®¾ç½®ä¸upstreamæœåŠ¡å™¨çš„è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œè¿™ä¸ªè¶…æ—¶å»ºè®®ä¸è¶…è¿‡75ç§’ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">proxy_connect_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è¯¥æŒ‡ä»¤è®¾ç½®åº”ç”¨æœåŠ¡å™¨çš„å“åº”è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤60ç§’ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">proxy_read_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#C3E88D;">ï¼›</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è®¾ç½®äº†å‘é€è¯·æ±‚ç»™upstreamæœåŠ¡å™¨çš„è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#FFCB6B;">proxy_send_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># max_failsè®¾å®šNginxä¸upstreamæœåŠ¡å™¨é€šä¿¡çš„å°è¯•å¤±è´¥çš„æ¬¡æ•°ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># åœ¨fail_timeoutå‚æ•°å®šä¹‰çš„æ—¶é—´æ®µå†…ï¼Œå¦‚æœå¤±è´¥çš„æ¬¡æ•°è¾¾åˆ°æ­¤å€¼ï¼ŒNginxå°±è®¤ä¸ºæœåŠ¡å™¨ä¸å¯ç”¨ã€‚</span></span>
<span class="line"><span style="color:#FFCB6B;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">big_server_com</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.1:8000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">weight=</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">max_fails=</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fail_timeout=</span><span style="color:#F78C6C;">30</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># weightè¶Šé«˜ï¼Œæƒé‡è¶Šå¤§</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.2:8000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">weight=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">max_fails=</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fail_timeout=</span><span style="color:#F78C6C;">30</span><span style="color:#C3E88D;">s</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.3:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.4:8001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">backup</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># çƒ­å¤‡</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="nginxè´Ÿè½½å‡è¡¡" tabindex="-1">Nginxè´Ÿè½½å‡è¡¡ <a class="header-anchor" href="#nginxè´Ÿè½½å‡è¡¡" aria-label="Permalink to &quot;Nginxè´Ÿè½½å‡è¡¡&quot;">â€‹</a></h2><p>Nginxæä¾›äº†å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•, æœ€å¸¸è§çš„æœ‰5ç§ã€‚æˆ‘ä»¬åªéœ€ä¿®æ”¹å¯¹åº”upstreamæ¨¡å—å³å¯ã€‚</p><h2 id="è½®è¯¢-é»˜è®¤" tabindex="-1">è½®è¯¢(é»˜è®¤) <a class="header-anchor" href="#è½®è¯¢-é»˜è®¤" aria-label="Permalink to &quot;è½®è¯¢(é»˜è®¤)&quot;">â€‹</a></h2><p>æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤;</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è½®è¯¢ï¼Œå¤§å®¶æƒé‡ä¸€æ ·</span></span>
<span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">backend_server </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.1:8000;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.2:8000;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.3:8000 down; </span><span style="color:#676E95;font-style:italic;"># ä¸å‚ä¸è´Ÿè½½å‡è¡¡</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.4:8001 backup; </span><span style="color:#676E95;font-style:italic;"># çƒ­å¤‡</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">    big.server.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;"> access_log </span><span style="color:#A6ACCD;">     logs/big.server.access.log</span><span style="color:#89DDFF;"> main;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;"> charset </span><span style="color:#A6ACCD;">utf-8</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;"> client_max_body_size </span><span style="color:#A6ACCD;">10M</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># é™åˆ¶ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨proxy_passè½¬å‘è¯·æ±‚åˆ°é€šè¿‡upstreamå®šä¹‰çš„ä¸€ç»„åº”ç”¨æœåŠ¡å™¨</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">     http://backend_server</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Real-IP  </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_addr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span></code></pre></div><h2 id="æƒé‡-weight" tabindex="-1">æƒé‡(weight) <a class="header-anchor" href="#æƒé‡-weight" aria-label="Permalink to &quot;æƒé‡(weight)&quot;">â€‹</a></h2><p>é€šè¿‡weightæŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œè®¿é—®æ¯”ç‡ä¸weightæˆæ­£æ¯”ï¼Œå¸¸ç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚ä¸æ€ä¹ˆå¿™çš„æœåŠ¡å™¨å¯ä»¥å¤šæ‰¿æ‹…äº›ä»»åŠ¡ã€‚</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># æƒé‡ï¼Œweightè¶Šå¤§ï¼Œæ‰¿æ‹…ä»»åŠ¡è¶Šå¤š</span></span>
<span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">backend_server </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.1:8000 </span><span style="color:#A6ACCD;font-style:italic;">weight</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   server 192.168.0.2:8000 </span><span style="color:#A6ACCD;font-style:italic;">weight</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="ip-hash" tabindex="-1">ip_hash <a class="header-anchor" href="#ip-hash" aria-label="Permalink to &quot;ip_hash&quot;">â€‹</a></h2><p>æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionçš„é—®é¢˜ã€‚</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># æƒé‡ï¼Œweightè¶Šå¤§ï¼Œæ‰¿æ‹…ä»»åŠ¡è¶Šå¤š</span></span>
<span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">backend_server </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">ip_hash;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.1:8000;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 192.168.0.2:8000;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="url-hash" tabindex="-1">url_hash <a class="header-anchor" href="#url-hash" aria-label="Permalink to &quot;url_hash&quot;">â€‹</a></h2><p>æŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä¸ºç¼“å­˜æ—¶æ¯”è¾ƒæœ‰æ•ˆã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># URL Hash</span></span>
<span class="line"><span style="color:#FFCB6B;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">backend_server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">hash</span><span style="color:#A6ACCD;"> $request_uri</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.1:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.2:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="fair-ç¬¬ä¸‰æ–¹" tabindex="-1">fair(ç¬¬ä¸‰æ–¹) <a class="header-anchor" href="#fair-ç¬¬ä¸‰æ–¹" aria-label="Permalink to &quot;fair(ç¬¬ä¸‰æ–¹)&quot;">â€‹</a></h2><p>æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚ä½¿ç”¨è¿™ä¸ªç®—æ³•éœ€è¦å®‰è£…<code>nginx-upstream-fair</code>è¿™ä¸ªåº“ã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Fair</span></span>
<span class="line"><span style="color:#FFCB6B;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">backend_server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.1:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.2:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">fair</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="nginxä¸uwsgiæœåŠ¡å™¨çš„æ²Ÿé€š" tabindex="-1">Nginxä¸uWSGIæœåŠ¡å™¨çš„æ²Ÿé€š <a class="header-anchor" href="#nginxä¸uwsgiæœåŠ¡å™¨çš„æ²Ÿé€š" aria-label="Permalink to &quot;Nginxä¸uWSGIæœåŠ¡å™¨çš„æ²Ÿé€š&quot;">â€‹</a></h2><p>åœ¨å‰é¢çš„æ¡ˆä¾‹ä¸­ï¼ŒNginxéƒ½æ˜¯ä½¿ç”¨<code>proxy_pass</code>è½¬å‘çš„åŠ¨æ€è¯·æ±‚ï¼Œ<code>proxy_pass</code>ä½¿ç”¨æ™®é€šçš„HTTPåè®®ä¸åº”ç”¨æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šã€‚å¦‚æœä½ éƒ¨ç½²çš„æ˜¯Python Webåº”ç”¨(Django, Flask), ä½ çš„åº”ç”¨æœåŠ¡å™¨(<code>uwsgi</code>, <code>gunicorn</code>)ä¸€èˆ¬æ˜¯éµå®ˆuwsgiåè®®çš„ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œå»ºè®®ä½¿ç”¨<code>uwsgi_pass</code>è½¬å‘è¯·æ±‚ã€‚</p><h3 id="python-webåº”ç”¨éƒ¨ç½²è´Ÿè½½å‡è¡¡nginxé…ç½®æ–‡ä»¶å‚è€ƒ" tabindex="-1">Python Webåº”ç”¨éƒ¨ç½²è´Ÿè½½å‡è¡¡Nginxé…ç½®æ–‡ä»¶å‚è€ƒ <a class="header-anchor" href="#python-webåº”ç”¨éƒ¨ç½²è´Ÿè½½å‡è¡¡nginxé…ç½®æ–‡ä»¶å‚è€ƒ" aria-label="Permalink to &quot;Python Webåº”ç”¨éƒ¨ç½²è´Ÿè½½å‡è¡¡Nginxé…ç½®æ–‡ä»¶å‚è€ƒ&quot;">â€‹</a></h3><p>å¦‚æœä½ éƒ¨ç½²çš„æ˜¯Djangoæˆ–åˆ™Flask Webåº”ç”¨ï¼Œä¸€ä¸ªå®Œæ•´çš„nginxé…ç½®æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># nginxé…ç½®æ–‡ä»¶ï¼Œnginx.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å…¨å±€å—</span></span>
<span class="line"><span style="color:#FFCB6B;">user</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">www-data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">worker_processes</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">## é»˜è®¤1ï¼Œä¸€èˆ¬å»ºè®®è®¾æˆCPUæ ¸æ•°1-2å€</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Eventså—</span></span>
<span class="line"><span style="color:#FFCB6B;">events</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨epollçš„I/O æ¨¡å‹å¤„ç†è½®è¯¢äº‹ä»¶ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å¯ä»¥ä¸è®¾ç½®ï¼Œnginxä¼šæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©åˆé€‚çš„æ¨¡å‹</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">epoll</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å·¥ä½œè¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°é‡, é»˜è®¤1024ä¸ª</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">worker_connections</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">2048</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># httpå±‚é¢çš„keep-aliveè¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">keepalive_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># å¼€å¯gzipå‹ç¼©åŠŸèƒ½</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å…è®¸å‹ç¼©çš„é¡µé¢æœ€å°å­—èŠ‚æ•°; è¿™é‡Œè¡¨ç¤ºå¦‚æœæ–‡ä»¶å°äº10kï¼Œå‹ç¼©æ²¡æœ‰æ„ä¹‰.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_min_length</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å‹ç¼©æ¯”ç‡ï¼Œæœ€å°ä¸º1ï¼Œå¤„ç†é€Ÿåº¦å¿«ï¼Œä¼ è¾“é€Ÿåº¦æ…¢ï¼›</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 9ä¸ºæœ€å¤§å‹ç¼©æ¯”ï¼Œå¤„ç†é€Ÿåº¦æ…¢ï¼Œä¼ è¾“é€Ÿåº¦å¿«; æ¨è6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_comp_level</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å‹ç¼©ç¼“å†²åŒºå¤§å°ï¼Œæ­¤å¤„è®¾ç½®ä¸º16ä¸ª8Kå†…å­˜ä½œä¸ºå‹ç¼©ç»“æœç¼“å†²</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_buffers</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># è®¾ç½®å“ªäº›æ–‡ä»¶éœ€è¦å‹ç¼©,ä¸€èˆ¬æ–‡æœ¬ï¼Œcsså’Œjså»ºè®®å‹ç¼©ã€‚å›¾ç‰‡è§†éœ€è¦è¦é”ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gzip_types</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/plain</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/css</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/json</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/x-javascript</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/xml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/xml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/xml+rss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">backend_server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.1:8000</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># æ›¿æ¢æˆåº”ç”¨æœåŠ¡å™¨æˆ–å®¹å™¨å®é™…IPåŠç«¯å£</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168</span><span style="color:#C3E88D;">.0.2:8000</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># ç›‘å¬80ç«¯å£</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># å¯ä»¥æ˜¯nginxå®¹å™¨æ‰€åœ¨ipåœ°å€æˆ–127.0.0.1ï¼Œä¸èƒ½å†™å®¿ä¸»æœºå¤–ç½‘ipåœ°å€</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">charset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">client_max_body_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">M</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># é™åˆ¶ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶å¤§å°</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">client_header_buffer_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">client_header_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">client_body_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">access_log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx/mysite1.access.log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">error_log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx/mysite1.error.log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warn</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># é™æ€èµ„æºè·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/static</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/nginx/html/static</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># åª’ä½“èµ„æºè·¯å¾„ï¼Œç”¨æˆ·ä¸Šä¼ æ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/media</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/share/nginx/html/media</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">     </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">include</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/uwsgi_params</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">uwsgi_pass</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">backend_server</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨uwsgi_pass, è€Œä¸æ˜¯proxy_pass</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">uwsgi_read_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">600</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># æŒ‡å®šæ¥æ”¶uWSGIåº”ç­”çš„è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">uwsgi_connect_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">600</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æŒ‡å®šè¿æ¥åˆ°åç«¯uWSGIçš„è¶…æ—¶æ—¶é—´ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">uwsgi_send_timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">600</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># æŒ‡å®šå‘uWSGIä¼ é€è¯·æ±‚çš„è¶…æ—¶æ—¶é—´</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">X-Forwarded-For</span><span style="color:#A6ACCD;"> $proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Host</span><span style="color:#A6ACCD;"> $http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">proxy_redirect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">X-Real-IP</span><span style="color:#A6ACCD;">  $remote_addr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>å¦‚æœä½ çš„nginxä¸uwsgiåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œç”¨ä¸åˆ°è´Ÿè½½å‡è¡¡ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡æœ¬åœ°æœºå™¨çš„unix socketè¿›è¡Œé€šä¿¡ï¼Œè¿™æ ·é€Ÿåº¦æ›´å¿«ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">     </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">include</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx/uwsgi_params</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uwsgi_pass</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unix:/run/uwsgi/django_test1.sock</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p><strong>æ³¨æ„</strong>ï¼šå–å†³äºNginxé‡‡ç”¨é‚£ç§æ–¹å¼ä¸uWSGIæœåŠ¡å™¨è¿›è¡Œé€šä¿¡(æœ¬åœ°socket, ç½‘ç»œTCP socketå’Œhttpåè®®)ï¼ŒuWSGIçš„é…ç½®æ–‡ä»¶ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚è¿™é‡Œä»¥<code>uwsgi.ini</code>ä¸ºä¾‹å±•ç¤ºäº†ä¸åŒã€‚</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># uwsgi.inié…ç½®æ–‡ä»¶</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¯¹äºuwsgi_passè½¬å‘çš„è¯·æ±‚ï¼Œä½¿ç”¨æœ¬åœ°unix socketé€šä¿¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä»…é€‚ç”¨äºnginxå’Œuwsgiåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„æƒ…å½¢</span></span>
<span class="line"><span style="color:#A6ACCD;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/run/uwsgi/django_test1.sock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¯¹äºuwsgi_passè½¬å‘çš„è¯·æ±‚ï¼Œä½¿ç”¨TCP socketé€šä¿¡</span></span>
<span class="line"><span style="color:#A6ACCD;">socket</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.0.0:8000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¯¹äºproxy_pass HTTPè½¬å‘çš„è¯·æ±‚ï¼Œä½¿ç”¨httpåè®®</span></span>
<span class="line"><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.0.0:8000</span></span></code></pre></div><h2 id="ç¤ºä¾‹" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#ç¤ºä¾‹" aria-label="Permalink to &quot;ç¤ºä¾‹&quot;">â€‹</a></h2><p><strong>ç¯å¢ƒ:CentOS Linux release 7.5.1804 (Core)</strong><strong>é˜¿é‡Œäº‘ æœåŠ¡å™¨</strong></p><table><thead><tr><th>ä»£ç </th><th>æ³¨é‡Š</th></tr></thead><tbody><tr><td>sudo yum install nginx</td><td>å®‰è£…nginx</td></tr><tr><td>sudo systemctl enable nginx</td><td>è®¾ç½®å¼€æœºå¯åŠ¨</td></tr><tr><td>sudo systemctl start nginx</td><td>å¯åŠ¨æœåŠ¡</td></tr><tr><td>sudo systemctl stop nginx</td><td>åœæ­¢æœåŠ¡</td></tr><tr><td>sudo systemctl restart nginx</td><td>é‡å¯æœåŠ¡</td></tr><tr><td>sudo systemctl reload nginx</td><td>é‡æ–°åŠ è½½ï¼Œå› ä¸ºä¸€èˆ¬é‡æ–°é…ç½®ä¹‹åï¼Œä¸å¸Œæœ›é‡å¯æœåŠ¡ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨é‡æ–°åŠ è½½ã€‚</td></tr><tr><td>sudo nginx -t</td><td>éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</td></tr><tr><td>sudo systemctl status nginx</td><td>æŸ¥çœ‹ nginx çŠ¶æ€</td></tr></tbody></table><h2 id="é»˜è®¤-nginx-ç›®å½•è·¯å¾„ã€‚" tabindex="-1">é»˜è®¤ nginx ç›®å½•è·¯å¾„ã€‚ <a class="header-anchor" href="#é»˜è®¤-nginx-ç›®å½•è·¯å¾„ã€‚" aria-label="Permalink to &quot;é»˜è®¤ nginx ç›®å½•è·¯å¾„ã€‚&quot;">â€‹</a></h2><ul><li><p>/var/log/nginx/ ï¼šæ—¥å¿—æ–‡ä»¶ç›®å½•ï¼Œé€šå¸¸åŒ…å«<code>access.log</code>å’Œ<code>error.log</code>ä¸¤ä¸ªä¸»æ—¥å¿—æ–‡ä»¶ï¼Œä»¥åŠå„ä¸ªç«™ç‚¹çš„æ—¥å¿—ã€‚</p></li><li><p>/etc/nginx/ï¼šé…ç½®æ–‡ä»¶ç›®å½•ã€‚</p></li><li><p>/etc/nginx/sites-available/ï¼šæ‰€æœ‰ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ç›®å½•ã€‚</p></li><li><p>/etc/nginx/sites-enabled/ï¼šç”Ÿæ•ˆç«™ç‚¹çš„é…ç½®æ–‡ä»¶ç›®å½•ï¼Œé€šå¸¸æ˜¯<code>/etc/nginx/sites-available/</code>å¯¹åº”æ–‡ä»¶çš„è½¯è¿æ¥ã€‚</p></li><li><p>/etc/nginx/nginx.confï¼šä¸»é…ç½®æ–‡ä»¶ã€‚</p></li></ul><h2 id="æˆ‘çš„nginxé…ç½®" tabindex="-1">æˆ‘çš„nginxé…ç½® <a class="header-anchor" href="#æˆ‘çš„nginxé…ç½®" aria-label="Permalink to &quot;æˆ‘çš„nginxé…ç½®&quot;">â€‹</a></h2><p><strong>ä¸€ä¸ªåŸŸåä½œä¸ºé»˜è®¤ç½‘å€</strong></p><p><strong>è§£æçš„ä¸€ä¸ªåŸŸåä½œä¸ºapiæ¥å£</strong></p><p><strong>åˆ†åˆ«é…ç½®äº†æ¥å£è½¬å‘å’Œhttpsä»£ç†</strong></p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># For more information on configuration, see:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   * Official English Documentation: http://nginx.org/en/docs/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   * Official Russian Documentation: http://nginx.org/ru/docs/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">user </span><span style="color:#A6ACCD;">nginx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">worker_processes </span><span style="color:#A6ACCD;">auto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">error_log </span><span style="color:#A6ACCD;">/var/log/nginx/error.log</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">pid </span><span style="color:#A6ACCD;">/run/nginx.pid</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">events</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> worker_connections </span><span style="color:#A6ACCD;">1024</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">http</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> log_format  main</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_addr</span><span style="color:#C3E88D;"> - </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_user</span><span style="color:#C3E88D;"> [</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">time_local</span><span style="color:#C3E88D;">] &quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">request</span><span style="color:#C3E88D;">&quot; &#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">                      </span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">body_bytes_sent</span><span style="color:#C3E88D;"> &quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_referer</span><span style="color:#C3E88D;">&quot; &#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">                      </span><span style="color:#C3E88D;">&#39;&quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_user_agent</span><span style="color:#C3E88D;">&quot; &quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_x_forwarded_for</span><span style="color:#C3E88D;">&quot;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> access_log </span><span style="color:#A6ACCD;"> /var/log/nginx/access.log </span><span style="color:#89DDFF;"> main;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> sendfile </span><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;"> on;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> tcp_nopush </span><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> on;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> tcp_nodelay </span><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> on;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> keepalive_timeout </span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">65</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> types_hash_max_size </span><span style="color:#A6ACCD;">2048</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> include </span><span style="color:#A6ACCD;">            /etc/nginx/mime.types</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> default_type </span><span style="color:#A6ACCD;">       application/octet-stream</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;"> www.xxx.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-NginX-Proxy</span><span style="color:#89DDFF;"> true;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_http_version </span><span style="color:#A6ACCD;">1.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Upgrade </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_upgrade</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Connection </span><span style="color:#C3E88D;">&quot;upgrade&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_max_temp_file_size </span><span style="color:#A6ACCD;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">http://127.0.0.1:3000/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_read_timeout </span><span style="color:#A6ACCD;">240s</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> error_page </span><span style="color:#A6ACCD;">404 /404.html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/40x.html </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> error_page </span><span style="color:#A6ACCD;">500 </span><span style="color:#F78C6C;">502</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">503</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">504</span><span style="color:#A6ACCD;"> /50x.html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/50x.html </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">443</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">www.xxx.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl </span><span style="color:#A6ACCD;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_certificate </span><span style="color:#A6ACCD;"> /root/web/Blog/cert/xxx.pem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_certificate_key </span><span style="color:#A6ACCD;">/root/web/Blog/cert/xxx.key</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_session_timeout </span><span style="color:#A6ACCD;">5m</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_ciphers </span><span style="color:#A6ACCD;">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_protocols </span><span style="color:#A6ACCD;">TLSv1 TLSv1.1 TLSv1.2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;"> ssl_prefer_server_ciphers </span><span style="color:#A6ACCD;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-NginX-Proxy</span><span style="color:#89DDFF;"> true;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_http_version </span><span style="color:#A6ACCD;">1.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Upgrade </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">http_upgrade</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Connection </span><span style="color:#C3E88D;">&quot;upgrade&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_max_temp_file_size </span><span style="color:#A6ACCD;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">http://127.0.0.1:3000/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;"> proxy_read_timeout </span><span style="color:#A6ACCD;">240s</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-c66f65bb data-v-0dda3725><!--[--><!--]--><div class="edit-info" data-v-0dda3725><div class="edit-link" data-v-0dda3725><a class="VPLink link edit-link-button" href="https://github.com/hugozach/hugo-note-book/edit/main/docs/note/nginx.md" target="_blank" rel="noreferrer" data-v-0dda3725 data-v-d871efe7><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-0dda3725><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> ç¼–è¾‘é¡µé¢<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-0dda3725><div class="pager" data-v-0dda3725><a class="pager-link prev" href="/note/git%20&amp;%20github%20%E6%8C%87%E5%8D%97.html" data-v-0dda3725><span class="desc" data-v-0dda3725>ä¸Šä¸€ç« </span><span class="title" data-v-0dda3725>git & github æŒ‡å—</span></a></div><div class="has-prev pager" data-v-0dda3725><a class="pager-link next" href="/note/Docker%E6%8C%87%E5%8D%97.html" data-v-0dda3725><span class="desc" data-v-0dda3725>ä¸‹ä¸€ç« </span><span class="title" data-v-0dda3725>Docker æŒ‡å—</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-96fb3d2a data-v-7f995585><div class="container" data-v-7f995585><!----><p class="copyright" data-v-7f995585>Copyright Â© 2018-2023 Hugo Zachç‰ˆæƒæ‰€æœ‰ v1.0.33 </p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"q_a_vue2å¸¸è§é—®é¢˜.md\":\"fd2cb979\",\"cryptocurrency_web3åº”ç”¨.md\":\"c2583f4c\",\"cryptocurrency_åå‘åˆçº¦.md\":\"9f0887a3\",\"log_å¸å‚²äº¤æ˜“æ‰€.md\":\"ff6a01f7\",\"q_a_nextjså¸¸è§é—®é¢˜.md\":\"cad1f4f1\",\"log_è¶…çº§åº”ç”¨.md\":\"8121e2bd\",\"q_a_å°ç™½å…¥èŒå¸¸è§é—®é¢˜.md\":\"ecbcae2d\",\"cryptocurrency_æ°¸ç»­åˆçº¦.md\":\"965be942\",\"log_fof-pro.md\":\"75c21308\",\"index.md\":\"ddd9dbe4\",\"log_ä¸ªäººé¡¹ç›®(z org).md\":\"1e1df602\",\"log_åŸºé‡‘æ ·æ¿é—´.md\":\"284899f3\",\"log_è¥¿ç­¹faså¹³å°.md\":\"4fc0a3d5\",\"log_è¿”åˆ©å¹³å°.md\":\"4ced12ee\",\"cryptocurrency_up.md\":\"ced41f14\",\"q_a_å¾®ä¿¡é›†æˆå¸¸è§é—®é¢˜.md\":\"47431038\",\"log_æ•æ·é¡¹ç›®ç®¡ç†.md\":\"1b09a0fb\",\"note_class.md\":\"169b9d6d\",\"cryptocurrency_money.md\":\"df4dcdb0\",\"log_æ™ºçµåŠ©æ‰‹.md\":\"cbc63544\",\"log_æ„æ‰åŸºé‡‘.md\":\"f8a31f94\",\"log_è¥¿ç­¹åŸºé‡‘ç­›é€‰.md\":\"5f5bbee4\",\"log_æ–°åç¤¾æ——.md\":\"ff9b1b81\",\"cryptocurrency_uniswap.md\":\"6914da71\",\"log_æŠ•ç ”åŠ©æ‰‹.md\":\"7d11b785\",\"cryptocurrency_æ··åˆä¿è¯é‡‘.md\":\"703c699a\",\"cryptocurrency_æµåŠ¨æ€§.md\":\"928a0051\",\"q_a_ç½‘å€å¸¸è§é—®é¢˜.md\":\"27db3b27\",\"log_test.md\":\"d40b13bd\",\"cryptocurrency_etf.md\":\"2582b159\",\"about_å½“å‰æ”¿æ²»ç¯å¢ƒ.md\":\"c0cdc587\",\"cryptocurrency_ç¨³å®šå¸.md\":\"679a7613\",\"log_å‘¨å…­ç‰¹è‰²å¤§æ’æ¡£å°ç¨‹åº.md\":\"bdd28a67\",\"cryptocurrency_bitcoin-ten-years.md\":\"4634ea57\",\"log_pmpé¢˜ç›®å¤ä¹ .md\":\"3b03ffee\",\"q_a_csså¸¸è§é—®é¢˜.md\":\"594580d7\",\"log_è¥¿ç­¹å®˜ç½‘.md\":\"0fd29949\",\"cryptocurrency_åšå¸‚.md\":\"6ae8e21c\",\"log_æŠ•ç ”æ¨¡ç‰ˆ.md\":\"34be716c\",\"cryptocurrency_æœŸè´§.md\":\"ecd3a0ec\",\"cryptocurrency_sell-buy-express.md\":\"33f7ced8\",\"log_gettr.md\":\"4fb76149\",\"q_a_elementuiå¸¸è§é—®é¢˜.md\":\"31ac33a7\",\"log_å®é“ƒåŒ»ç”Ÿ.md\":\"3cf1ef30\",\"q_a_javascriptå¸¸è§é—®é¢˜.md\":\"089b0b27\",\"log_è¥¿ç­¹æ•°æ®å¹³å°.md\":\"b38df240\",\"q_a_æœåŠ¡å™¨(ubuntu)å¸¸è§é—®é¢˜.md\":\"228b2b61\",\"note_redis.md\":\"40633ae5\",\"q_a_djangoå¸¸è§é—®é¢˜.md\":\"61f5eff2\",\"log_å®šåŠ›ç§‘æŠ€.md\":\"bcddd1a9\",\"q_a_typescriptå¸¸è§é—®é¢˜.md\":\"83ebc53b\",\"note_dockeræŒ‡å—.md\":\"cc15f0da\",\"q_a_ç›‘å¬é¡µé¢ä¸­çš„è¯·æ±‚.md\":\"1d3182b9\",\"note_reactä¼˜é›…æ•™ç¨‹.md\":\"3297f97a\",\"note_cli.md\":\"bcdc132d\",\"note_navicatæŸ¥çœ‹å·²ä¿å­˜å¯†ç .md\":\"1d42e518\",\"note_commitlintè§„èŒƒ.md\":\"50ceae8d\",\"note_cert.md\":\"ccf78314\",\"note_liunxå¸¸ç”¨å‘½ä»¤.md\":\"cb385252\",\"note_vueä¼˜é›…æ•™ç¨‹.md\":\"fd8be1bf\",\"note_compose.md\":\"332081d5\",\"note_change-type.md\":\"bc07aa70\",\"note_copy.md\":\"103d1eef\",\"note_django.md\":\"a0645a46\",\"note_error.md\":\"e4ddb388\",\"note_electron-message.md\":\"419edccd\",\"note_deploy-page.md\":\"ecdbd967\",\"note_enter.md\":\"0426837b\",\"note_index.md\":\"2d92879e\",\"note_tyepscriptæŒ‡å—.md\":\"3b968692\",\"note_html.md\":\"71de0e77\",\"note_gitä¼˜é›…æŒ‡å—.md\":\"b6449168\",\"note_jsevent.md\":\"3c1d5122\",\"note_jscomplate.md\":\"b469c3a4\",\"note_jsä¸ä¼˜é›…æ•™ç¨‹.md\":\"44255694\",\"note_mac-bind-email.md\":\"af672365\",\"note_lazy.md\":\"d5e38c99\",\"note_git _ github æŒ‡å—.md\":\"e5e52f65\",\"note_model.md\":\"10ea44cd\",\"note_mysqlå…¥é—¨æ•™ç¨‹.md\":\"0f53fc72\",\"note_proxy.md\":\"8efeda77\",\"note_mac-launchctl-task.md\":\"128c440c\",\"note_npm.md\":\"69ff0c40\",\"note_jsä¼˜é›…æ•™ç¨‹.md\":\"629b7fe6\",\"note_plan.md\":\"37212095\",\"note_react.md\":\"3d97804c\",\"note_optimize.md\":\"2fb466ec\",\"note_pass.md\":\"17f3a2df\",\"note_react-advance.md\":\"4779755b\",\"note_quicksort.md\":\"dd72fbd0\",\"note_pm2.md\":\"d83422fa\",\"note_read-book-note.md\":\"066d43cd\",\"note_template.md\":\"f6e24b85\",\"note_css.md\":\"51a8cf6a\",\"note_story.md\":\"be0231fe\",\"note_ssh.md\":\"36e3d49b\",\"note_this.md\":\"2c14a3b1\",\"note_python.md\":\"50ace6c3\",\"note_thinking-in-ract.md\":\"393e8711\",\"note_uniapp.md\":\"2b597463\",\"note_nginx.md\":\"7a0dac77\",\"note_test-for-bianlifeng.md\":\"3dff5de5\",\"note_vpn.md\":\"a54d6bd2\",\"note_uwsgiæŒ‡å—.md\":\"28c3cc8f\",\"note_å¯¹è±¡åŸå‹é“¾æŒ‡å—.md\":\"652ee09f\",\"note_å“åº”å¼å¸ƒå±€æŒ‡å—.md\":\"03d8df13\",\"note_twaver.md\":\"e619b978\",\"note_å‰ç«¯å·¥ç¨‹åŒ–æŒ‡å—.md\":\"5b68b41c\",\"note_æ·±è‰²æ¨¡å¼æŒ‡å—.md\":\"554d4657\",\"note_å–è‰²å™¨.md\":\"099580d1\",\"note_websocket.md\":\"b217320e\",\"note_test.md\":\"dd672ae8\",\"note_é—­åŒ…çš„å¤–æŒ‚.md\":\"5e38b9d6\",\"note_æ‰‹å†™promise.md\":\"dc7b370e\",\"note_å·¥ç¨‹åŒ–å…¥é—¨æŒ‡å—.md\":\"db44a158\",\"stores_è§‰é†’.md\":\"6cff9a66\",\"products_coupon.md\":\"0ff5552f\",\"stores_love.md\":\"0df4c1dc\",\"products_gettr.md\":\"5684a85a\",\"products_bigv.md\":\"08b8bac1\",\"products_doctor.md\":\"ba201600\",\"products_openalpha.md\":\"efb56b57\",\"products_btcalory.md\":\"6d1bdf27\",\"stores_20220810äº¤é€šäº‹æ•….md\":\"525aa9af\",\"products_notemusic.md\":\"870d2599\",\"tools_inquirerjs.md\":\"de699644\",\"tools_chatgpæŒ‡ä»¤.md\":\"0617f93e\",\"note_æ’ä»¶å¼€å‘æŒ‡å—.md\":\"0325fb01\",\"tools_mock.md\":\"be820755\",\"products_wallpaper.md\":\"6f35fb11\",\"products_fof-pro.md\":\"06e796c1\",\"tools_åˆ©ç”¨gitçš„diffåˆ¶ä½œè¡¥ä¸åŒ….md\":\"34afbc32\",\"tools_å·¥å…·å‡½æ•°.md\":\"38ebb7b7\",\"products_valuation.md\":\"3686f2ca\",\"tools_ç§’é€Ÿçˆ¬100å¼ åŸåˆ›æ’ç”».md\":\"56b84148\",\"tools_echarts.md\":\"cfe4d802\",\"tools_emulator.md\":\"6662da9b\",\"tools_curl.md\":\"7ff17b2b\",\"tools_è½¯ä»¶ç ´è§£å·¥å…·.md\":\"f68d938a\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"ğŸ \",\"description\":\"ä¸–ç•Œä¸Šåªæœ‰10ç±»äººï¼šä¸€ç±»æ˜¯æ‡‚äºŒè¿›åˆ¶çš„ï¼Œä¸€ç±»æ˜¯ä¸æ‡‚çš„ã€‚\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"å·é›†\",\"activeMatch\":\"^/(guide|style-guide|cookbook|examples|cryptocurrency)/\",\"items\":[{\"text\":\"ğŸ’°  åŠ å¯†è´§å¸\",\"link\":\"/cryptocurrency/money\"},{\"text\":\"ğŸšš  å·¥å…·ä½¿ç”¨\",\"link\":\"/tools/ChatGPæŒ‡ä»¤\"},{\"text\":\"ğŸ’¡  å¼€å‘æ—¥å¿— \",\"link\":\"/log/Gettr\"},{\"text\":\"â“  å¸¸è§é—®é¢˜ \",\"link\":\"/Q&A/å°ç™½å…¥èŒå¸¸è§é—®é¢˜\"}]},{\"text\":\"ç¬”è®°\",\"activeMatch\":\"^/note/\",\"link\":\"/note/å·¥ç¨‹åŒ–å…¥é—¨æŒ‡å—\"},{\"text\":\"ä½œå“é›†\",\"activeMatch\":\"^/products/\",\"items\":[{\"text\":\"ä»£è¡¨ä½œ\",\"items\":[{\"text\":\"å¸å‚²äº¤æ˜“æ‰€\",\"link\":\"/products/btcalory\"},{\"text\":\"Gettr\",\"link\":\"/products/gettr\"},{\"text\":\"å®é“ƒåŒ»ç”Ÿ\",\"link\":\"/products/doctor\"}]},{\"text\":\"å•†ä¸šä½œå“\",\"items\":[{\"text\":\"ç¬¨å˜´ç¥å™¨\",\"link\":\"/products/bigv\"},{\"text\":\"For Pro\",\"link\":\"/products/fof-pro\"},{\"text\":\"å‡€å€¼é¢„ä¼°\",\"link\":\"/products/valuation\"},{\"text\":\"Open Alpha\",\"link\":\"/products/openalpha\"}]},{\"text\":\"ä¸ªäººä½œå“\",\"items\":[{\"text\":\"Wall Paper\",\"link\":\"/products/wallpaper\"},{\"text\":\"Note Music\",\"link\":\"/products/notemusic\"},{\"text\":\"ä¼˜æƒ åˆ¸å°ç¨‹åº\",\"link\":\"/products/coupon\"}]}]}],\"sidebar\":{\"/log/\":[{\"text\":\"ğŸ‘¨â€ğŸ’» å¼€å‘æ—¥å¿—\",\"items\":[{\"text\":\"Gettr\",\"link\":\"/log/Gettr\"},{\"text\":\"å®é“ƒåŒ»ç”Ÿ\",\"link\":\"/log/å®é“ƒåŒ»ç”Ÿ\"},{\"text\":\"FOF-PRO\",\"link\":\"/log/FOF-PRO\"},{\"text\":\"FOF-PRO-è¶…çº§åº”ç”¨\",\"link\":\"/log/è¶…çº§åº”ç”¨\"},{\"text\":\"FOF-PRO-æŠ•ç ”æ¨¡ç‰ˆ\",\"link\":\"/log/æŠ•ç ”æ¨¡ç‰ˆ\"},{\"text\":\"è¥¿ç­¹FASå¹³å°\",\"link\":\"/log/è¥¿ç­¹FASå¹³å°\"},{\"text\":\"è¥¿ç­¹æ•°æ®å¹³å°\",\"link\":\"/log/è¥¿ç­¹æ•°æ®å¹³å°\"},{\"text\":\"è¿”åˆ©å¹³å°\",\"link\":\"/log/è¿”åˆ©å¹³å°\"},{\"text\":\"è¥¿ç­¹å®˜ç½‘\",\"link\":\"/log/è¥¿ç­¹å®˜ç½‘\"},{\"text\":\"è¥¿ç­¹åŸºé‡‘ç­›é€‰\",\"link\":\"/log/è¥¿ç­¹åŸºé‡‘ç­›é€‰\"},{\"text\":\"ä¼°å€¼çº¢ç»¿ç¯è‚¡å€ºæ€§ä»·æ¯”\",\"link\":\"/log/å®šåŠ›ç§‘æŠ€\"},{\"text\":\"åŸºé‡‘æ ·æ¿é—´\",\"link\":\"/log/åŸºé‡‘æ ·æ¿é—´\"}]},{\"text\":\"ğŸ“” PMP\",\"items\":[{\"text\":\"æ•æ·é¡¹ç›®ç®¡ç†\",\"link\":\"/log/æ•æ·é¡¹ç›®ç®¡ç†\"},{\"text\":\"PMPé¢˜ç›®å¤ä¹ \",\"link\":\"/log/PMPé¢˜ç›®å¤ä¹ \"}]}],\"/cryptocurrency/\":[{\"text\":\"ğŸ“™ åŸºç¡€\",\"items\":[{\"text\":\"é’±\",\"link\":\"/cryptocurrency/money\"},{\"text\":\"æµåŠ¨æ€§\",\"link\":\"/cryptocurrency/æµåŠ¨æ€§\"},{\"text\":\"ç¨³å®šå¸\",\"link\":\"/cryptocurrency/ç¨³å®šå¸\"},{\"text\":\"åšå¸‚\",\"link\":\"/cryptocurrency/åšå¸‚\"},{\"text\":\"ETF\",\"link\":\"/cryptocurrency/ETF\"},{\"text\":\"Uniswap\",\"link\":\"/cryptocurrency/Uniswap\"},{\"text\":\"æœŸè´§\",\"link\":\"/cryptocurrency/æœŸè´§\"},{\"text\":\"æ··åˆä¿è¯é‡‘\",\"link\":\"/cryptocurrency/æ··åˆä¿è¯é‡‘\"},{\"text\":\"åå‘åˆçº¦\",\"link\":\"/cryptocurrency/åå‘åˆçº¦\"},{\"text\":\"æ°¸ç»­åˆçº¦\",\"link\":\"/cryptocurrency/æ°¸ç»­åˆçº¦\"}]},{\"text\":\"ğŸ“— æ‚è°ˆ\",\"items\":[{\"text\":\"æ¯”ç‰¹å¸åå¹´å›é¡¾\",\"link\":\"/cryptocurrency/bitcoin-ten-years\"},{\"text\":\"ä»·å€¼åƒä¸‡çš„ç‚’å¸ç»éªŒ\",\"link\":\"/cryptocurrency/sell-buy-express\"},{\"text\":\"å¥¶çš„åº•å±‚é€»è¾‘å°±æ˜¯å¥¶\",\"link\":\"/cryptocurrency/up\"}]},{\"text\":\"ğŸ“• å…¬é“¾å¯è§†åŒ–\",\"items\":[{\"text\":\"åº”ç”¨æ¡ˆä¾‹\",\"link\":\"/cryptocurrency/web3åº”ç”¨\"}]}],\"/tools/\":[{\"text\":\"ğŸ“Œ å¤§è¯­è¨€æ¨¡å‹\",\"items\":[{\"text\":\"ChatGPæŒ‡ä»¤\",\"link\":\"/tools/ChatGPæŒ‡ä»¤\"}]},{\"text\":\"ğŸ“Œ Development\",\"items\":[{\"text\":\"å·¥å…·å‡½æ•°é€ŸæŸ¥\",\"link\":\"/tools/å·¥å…·å‡½æ•°\"},{\"text\":\"Echarts\",\"link\":\"/tools/echarts\"},{\"text\":\"InquirerJS\",\"link\":\"/tools/InquirerJS\"}]},{\"text\":\"ğŸ“Œ çˆ¬è™«\",\"items\":[{\"text\":\"Curl\",\"link\":\"/tools/curl\"},{\"text\":\"Mock\",\"link\":\"/tools/Mock\"},{\"text\":\"ç§’é€Ÿçˆ¬100å¼ åŸåˆ›æ’ç”»\",\"link\":\"/tools/ç§’é€Ÿçˆ¬100å¼ åŸåˆ›æ’ç”»\"}]},{\"text\":\"ğŸ“Œ APP\",\"items\":[{\"text\":\"æ¨¡æ‹Ÿå™¨\",\"link\":\"/tools/emulator\"}]}],\"/Q&A/\":[{\"text\":\"ğŸ“š Q&A\",\"items\":[{\"text\":\"å°ç™½å…¥èŒå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/å°ç™½å…¥èŒå¸¸è§é—®é¢˜\"},{\"text\":\"JSå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/JavaScriptå¸¸è§é—®é¢˜\"},{\"text\":\"TSå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/TypeScriptå¸¸è§é—®é¢˜\"},{\"text\":\"CSSå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/CSSå¸¸è§é—®é¢˜\"},{\"text\":\"VUE2å¸¸è§é—®é¢˜\",\"link\":\"/Q&A/VUE2å¸¸è§é—®é¢˜\"},{\"text\":\"å¾®ä¿¡é›†æˆå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/å¾®ä¿¡é›†æˆå¸¸è§é—®é¢˜\"},{\"text\":\"ElementUIå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/ElementUIå¸¸è§é—®é¢˜\"},{\"text\":\"Djangoå¸¸è§é—®é¢˜\",\"link\":\"/Q&A/Djangoå¸¸è§é—®é¢˜\"},{\"text\":\"æœåŠ¡å™¨(Ubuntu)å¸¸è§é—®é¢˜\",\"link\":\"/Q&A/æœåŠ¡å™¨(Ubuntu)å¸¸è§é—®é¢˜\"}]}],\"/note/\":[{\"text\":\"ğŸ“š ä½¿ç”¨æŒ‡å—\",\"items\":[{\"text\":\"å·¥ç¨‹åŒ–å…¥é—¨æŒ‡å—\",\"link\":\"/note/å·¥ç¨‹åŒ–å…¥é—¨æŒ‡å—\"},{\"text\":\"å‰ç«¯å·¥ç¨‹åŒ–æŒ‡å—\",\"link\":\"/note/å‰ç«¯å·¥ç¨‹åŒ–æŒ‡å—\"},{\"text\":\"npm æ’ä»¶å¼€å‘æŒ‡å—\",\"link\":\"/note/æ’ä»¶å¼€å‘æŒ‡å—\"},{\"text\":\"TyepScriptæŒ‡å—\",\"link\":\"/note/TyepScriptæŒ‡å—\"},{\"text\":\"liunx æŒ‡å—\",\"link\":\"/note/Liunxå¸¸ç”¨å‘½ä»¤\"},{\"text\":\"Https é…ç½®æŒ‡å—\",\"link\":\"/note/cert\"},{\"text\":\"SSH  é…ç½®æŒ‡å—\",\"link\":\"/note/ssh\"},{\"text\":\"git & github æŒ‡å—\",\"link\":\"/note/git & github æŒ‡å—\"},{\"text\":\"Nginx æŒ‡å—\",\"link\":\"/note/nginx\"},{\"text\":\"Docker æŒ‡å—\",\"link\":\"/note/DockeræŒ‡å—\"},{\"text\":\"uWSGI æŒ‡å—\",\"link\":\"/note/uWSGIæŒ‡å—\"},{\"text\":\"MacOS è‡ªå¸¦VPNé“¾æ¥å…¬å¸ç½‘ç»œ\",\"link\":\"/note/vpn\"},{\"text\":\"MacOS é‚®ç®±æ•™ç¨‹\",\"link\":\"/note/mac-bind-email\"},{\"text\":\"MacOS å®šæ—¶ä»»åŠ¡æŒ‡å—\",\"link\":\"/note/mac-launchctl-task\"},{\"text\":\"MacOS mysql å…¥é—¨æŒ‡å—\",\"link\":\"/note/mysqlå…¥é—¨æ•™ç¨‹\"},{\"text\":\"å“åº”å¼å¸ƒå±€æŒ‡å—\",\"link\":\"/note/å“åº”å¼å¸ƒå±€æŒ‡å—\"},{\"text\":\"æ·±è‰²æ¨¡å¼æŒ‡å—\",\"link\":\"/note/æ·±è‰²æ¨¡å¼æŒ‡å—\"},{\"text\":\"å–è‰²å™¨API\",\"link\":\"/note/å–è‰²å™¨\"}]},{\"text\":\"ğŸ“š ä»£ç è§„èŒƒ\",\"items\":[{\"text\":\"JSä¸ä¼˜é›…æ•™ç¨‹\",\"link\":\"/note/jsä¸ä¼˜é›…æ•™ç¨‹\"},{\"text\":\"JSä¼˜é›…æ•™ç¨‹\",\"link\":\"/note/jsä¼˜é›…æ•™ç¨‹\"},{\"text\":\"Reactä¼˜é›…æ•™ç¨‹\",\"link\":\"/note/Reactä¼˜é›…æ•™ç¨‹\"},{\"text\":\"Vueä¼˜é›…æ•™ç¨‹\",\"link\":\"/note/Vueä¼˜é›…æ•™ç¨‹\"}]},{\"text\":\"ğŸ“š é«˜çº§è¿›é˜¶\",\"items\":[{\"text\":\"æ‰‹å†™Promise\",\"link\":\"/note/æ‰‹å†™Promise\"},{\"text\":\"é—­åŒ…çš„å¤–æŒ‚\",\"link\":\"/note/é—­åŒ…çš„å¤–æŒ‚\"}]}]},\"outline\":\"deep\",\"outlineTitle\":\"ç›®å½•\",\"algolia\":{\"indexName\":\"article\",\"appId\":\"MDH54K1FJG\",\"apiKey\":\"2651a6fb85dcb86beafa3e76ba3dcf99\",\"placeholder\":\"è¯·è¾“å…¥å…³é”®è¯\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hugozach\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/hugoozach\"}],\"editLink\":{\"pattern\":\"https://github.com/hugozach/hugo-note-book/edit/main/docs/:path\",\"text\":\"ç¼–è¾‘é¡µé¢\"},\"docFooter\":{\"prev\":\"ä¸Šä¸€ç« \",\"next\":\"ä¸‹ä¸€ç« \"},\"darkModeSwitchLabel\":\"ä¸»é¢˜\",\"sidebarMenuLabel\":\"èœå•\",\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"footer\":{\"copyright\":\"Copyright Â© 2018-2023 Hugo Zachç‰ˆæƒæ‰€æœ‰ v1.0.33 \"}},\"locales\":{},\"scrollOffset\":\"header\",\"cleanUrls\":false}")</script>
    
  </body>
</html>