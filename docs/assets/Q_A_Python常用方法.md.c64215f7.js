/**
 * name: note-book
 * version: v1.0.9
 * description: ç¬”è®°æœ¬ ğŸ“š  ä¸–ç•Œä¸Šåªæœ‰10ç±»äººï¼šä¸€ç±»æ˜¯æ‡‚äºŒè¿›åˆ¶çš„ï¼Œä¸€ç±»æ˜¯ä¸æ‡‚çš„ã€‚
 * author: Alimales <only_tigerhu@163.com>
 * homepage: https://www.tigerzh.com
 */
import{_ as s,o as a,c as n,a as l}from"./app.a5d386c5.js";const p=JSON.parse('{"title":"Pythonå¸¸ç”¨æ–¹æ³•","description":"","frontmatter":{},"headers":[{"level":2,"title":"å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç ï¼Ÿ","slug":"å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç ","link":"#å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç ","children":[]},{"level":2,"title":"å¦‚ä½•éšæœºç”ŸæˆUser-Agentï¼Ÿ","slug":"å¦‚ä½•éšæœºç”Ÿæˆuser-agent","link":"#å¦‚ä½•éšæœºç”Ÿæˆuser-agent","children":[]},{"level":2,"title":"å¦‚ä½•è§£æç½‘ç«™ï¼Ÿ","slug":"å¦‚ä½•è§£æç½‘ç«™","link":"#å¦‚ä½•è§£æç½‘ç«™","children":[]},{"level":2,"title":"å¦‚ä½•ä¸‹è½½å›¾ç‰‡ï¼Ÿ","slug":"å¦‚ä½•ä¸‹è½½å›¾ç‰‡","link":"#å¦‚ä½•ä¸‹è½½å›¾ç‰‡","children":[]}],"relativePath":"Q&A/Pythonå¸¸ç”¨æ–¹æ³•.md"}'),o={name:"Q&A/Pythonå¸¸ç”¨æ–¹æ³•.md"},e=[l('<h1 id="pythonå¸¸ç”¨æ–¹æ³•" tabindex="-1">Pythonå¸¸ç”¨æ–¹æ³• <a class="header-anchor" href="#pythonå¸¸ç”¨æ–¹æ³•" aria-hidden="true">#</a></h1><h2 id="å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç " tabindex="-1">å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•éšæœºç”Ÿæˆç”µè¯å·ç " aria-hidden="true">#</a></h2><p>ç­”ï¼š<a href="https://faker.readthedocs.io/en/master/" target="_blank" rel="noreferrer">faker</a>æˆ–è®¸æ˜¯æœ€å¥½çš„ç­”æ¡ˆï¼</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> faker </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Faker</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># åˆå§‹åŒ–ä¸ºä¸­æ–‡æ•°æ®</span></span>\n<span class="line"><span style="color:#A6ACCD;">fake </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Faker</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">locale</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zh_CN</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">phone_num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fake</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">phone_number</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># ç”Ÿæˆæ‰‹æœºå·</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">phone_num</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="å¦‚ä½•éšæœºç”Ÿæˆuser-agent" tabindex="-1">å¦‚ä½•éšæœºç”ŸæˆUser-Agentï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•éšæœºç”Ÿæˆuser-agent" aria-hidden="true">#</a></h2><p>ç­”ï¼š<a href="https://pypi.org/project/fake-useragent/" target="_blank" rel="noreferrer">fake-useragent</a>æä¾›ç”ŸæˆuserAgentåŠŸèƒ½ï¼Œæ›´å¤šä¿¡æ¯è¯·å‚è€ƒæ–‡æ¡£</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> fake_useragent </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> UserAgent</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">ua </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">UserAgent</span><span style="color:#89DDFF;">()</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ua</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">random</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="å¦‚ä½•è§£æç½‘ç«™" tabindex="-1">å¦‚ä½•è§£æç½‘ç«™ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•è§£æç½‘ç«™" aria-hidden="true">#</a></h2><p>ç­”ï¼š<a href="https://parsel.readthedocs.io/en/latest/usage.html" target="_blank" rel="noreferrer">parsel</a>åƒ Scrapy çš„ Selector ä¸€æ ·ï¼ŒParsel çš„ <code>xpath()</code> å’Œ <code>css()</code> æ–¹æ³•éƒ½è¿”å›åŒ¹é…çš„ SelectorList å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯åŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„åˆ—è¡¨ã€‚å¦‚æœè¦è·å–å•ä¸ªåŒ¹é…ç»“æœï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>get()</code> æ–¹æ³•ã€‚å¦‚æœè¦è·å–æ‰€æœ‰åŒ¹é…ç»“æœçš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>extract()</code> æ–¹æ³•ã€‚å¦å¤–ï¼ŒParsel è¿˜æ”¯æŒå°†æ­£åˆ™è¡¨è¾¾å¼ä¸ Selector å¯¹è±¡ä¸­çš„æ–‡æœ¬è¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨ <code>re()</code> æ–¹æ³•ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒParsel ç›¸æ¯”äº Scrapy çš„ Selector æ›´é€‚ç”¨äºå¤§å‹çš„æ•°æ®æŠ“å–å’Œçˆ¬è™«ç¨‹åºï¼Œç”±äºå®ƒåŸºäº lxml åº“å¼•æ“ï¼Œå› æ­¤åœ¨é€Ÿåº¦å’Œå¯æ‰©å±•æ€§æ–¹é¢ï¼Œå®ƒä¼šæ›´åŠ ä¼˜ç§€ã€‚ç”¨æ³•ä¸ Scrapy çš„ Selector æœ‰æ‰€åŒºåˆ«ï¼Œä½†ä¹Ÿå…·æœ‰ä¸€å®šçš„æ˜“ç”¨æ€§ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> parsel </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Selector</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">html </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;html&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;head&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">  &lt;title&gt;Example&lt;/title&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;/head&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;body&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">  &lt;div id=&quot;header&quot;&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">    &lt;h1&gt;Example.com&lt;/h1&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">  &lt;/div&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">  &lt;div id=&quot;content&quot;&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">    &lt;h2&gt;Introduction&lt;/h2&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">    &lt;p&gt;Hello World!&lt;/p&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">    &lt;a href=&quot;http://example.com&quot;&gt;More&lt;/a&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">  &lt;/div&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;/body&gt;</span></span>\n<span class="line"><span style="color:#C3E88D;">&lt;/html&gt;</span></span>\n<span class="line"><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ Parsel å¯¹è±¡åŠ è½½ HTML é¡µé¢</span></span>\n<span class="line"><span style="color:#A6ACCD;">sel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Selector</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">text</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">html</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># ä» HTML é¡µé¢ä¸­é€‰æ‹©æ‰€éœ€æ•°æ®</span></span>\n<span class="line"><span style="color:#A6ACCD;">title </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">//title/text()</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æå–æ ‡é¢˜</span></span>\n<span class="line"><span style="color:#A6ACCD;">header </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">css</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#header h1::text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æå–æ ‡é¢˜</span></span>\n<span class="line"><span style="color:#A6ACCD;">paragraph </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">css</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#content p::text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æå–æ–‡æœ¬</span></span>\n<span class="line"><span style="color:#A6ACCD;">link </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">css</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#content a::attr(href)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># æå–é“¾æ¥</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># æ‰“å°æ•°æ®</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">title: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> title</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">header: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> header</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraph: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> paragraph</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">link: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> link</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="å¦‚ä½•ä¸‹è½½å›¾ç‰‡" tabindex="-1">å¦‚ä½•ä¸‹è½½å›¾ç‰‡ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•ä¸‹è½½å›¾ç‰‡" aria-hidden="true">#</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> httpx</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#A6ACCD;">url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://www.example.com/image.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># å›¾ç‰‡çš„URLåœ°å€</span></span>\n<span class="line"><span style="color:#A6ACCD;">filename </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># ä¿å­˜çš„æ–‡ä»¶å</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> httpx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stream</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">GET</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> url</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> response</span><span style="color:#89DDFF;">:</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> chunk </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> response</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">iter_bytes</span><span style="color:#89DDFF;">():</span></span>\n<span class="line"><span style="color:#A6ACCD;">            f</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">chunk</span><span style="color:#89DDFF;">)</span></span>\n<span class="line"></span></code></pre></div>',13)];const t=s(o,[["render",function(s,l,p,o,t,c){return a(),n("div",null,e)}]]);export{p as __pageData,t as default};
