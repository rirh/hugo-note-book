/**
 * name: note-book
 * version: v1.0.9
 * description: ç¬”è®°æœ¬ ğŸ“š  ä¸–ç•Œä¸Šåªæœ‰10ç±»äººï¼šä¸€ç±»æ˜¯æ‡‚äºŒè¿›åˆ¶çš„ï¼Œä¸€ç±»æ˜¯ä¸æ‡‚çš„ã€‚
 * author: Alimales <only_tigerhu@163.com>
 * homepage: https://www.tigerzh.com
 */
import{_ as e,o as s,c as n,a as l}from"./app.a5d386c5.js";const o=JSON.parse('{"title":"HTTPS é…ç½®ç¤ºä¾‹","description":"","frontmatter":{},"headers":[{"level":2,"title":"å‡†å¤‡","slug":"å‡†å¤‡","link":"#å‡†å¤‡","children":[]},{"level":2,"title":"1. è¿›å…¥é˜¿é‡Œäº‘åå° è¿›å…¥ç®¡ç†æ§åˆ¶å°>åŸŸå","slug":"_1-è¿›å…¥é˜¿é‡Œäº‘åå°-è¿›å…¥ç®¡ç†æ§åˆ¶å°-åŸŸå","link":"#_1-è¿›å…¥é˜¿é‡Œäº‘åå°-è¿›å…¥ç®¡ç†æ§åˆ¶å°-åŸŸå","children":[]},{"level":2,"title":"2. ç‚¹å‡»è“è‰²åŸŸåè¿›å…¥ä¸‹é¢é¡µé¢","slug":"_2-ç‚¹å‡»è“è‰²åŸŸåè¿›å…¥ä¸‹é¢é¡µé¢","link":"#_2-ç‚¹å‡»è“è‰²åŸŸåè¿›å…¥ä¸‹é¢é¡µé¢","children":[]},{"level":2,"title":"3. å…è´¹å¼€å¯SSLè¯ä¹¦>é€‰æ‹©è¯ä¹¦>å¡«å†™è¦ç”³è¯·çš„å‰ç¼€(ä¾‹å¦‚: api è¯ä¹¦:api.XXX.com)","slug":"_3-å…è´¹å¼€å¯sslè¯ä¹¦-é€‰æ‹©è¯ä¹¦-å¡«å†™è¦ç”³è¯·çš„å‰ç¼€-ä¾‹å¦‚-api-è¯ä¹¦-api-xxx-com","link":"#_3-å…è´¹å¼€å¯sslè¯ä¹¦-é€‰æ‹©è¯ä¹¦-å¡«å†™è¦ç”³è¯·çš„å‰ç¼€-ä¾‹å¦‚-api-è¯ä¹¦-api-xxx-com","children":[]},{"level":2,"title":"4. ä¸‹è½½è¯ä¹¦","slug":"_4-ä¸‹è½½è¯ä¹¦","link":"#_4-ä¸‹è½½è¯ä¹¦","children":[]},{"level":2,"title":"æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨","slug":"æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨","link":"#æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨","children":[]},{"level":2,"title":"é˜²ç«å¢™é…ç½®","slug":"é˜²ç«å¢™é…ç½®","link":"#é˜²ç«å¢™é…ç½®","children":[]},{"level":2,"title":"å‘½ä»¤å«ä¹‰ï¼š","slug":"å‘½ä»¤å«ä¹‰","link":"#å‘½ä»¤å«ä¹‰","children":[]},{"level":2,"title":"é‡å¯é˜²ç«å¢™","slug":"é‡å¯é˜²ç«å¢™","link":"#é‡å¯é˜²ç«å¢™","children":[]}],"relativePath":"note/cert.md"}'),a={name:"note/cert.md"},t=[l('<h1 id="https-é…ç½®ç¤ºä¾‹" tabindex="-1">HTTPS é…ç½®ç¤ºä¾‹ <a class="header-anchor" href="#https-é…ç½®ç¤ºä¾‹" aria-hidden="true">#</a></h1><h2 id="å‡†å¤‡" tabindex="-1">å‡†å¤‡ <a class="header-anchor" href="#å‡†å¤‡" aria-hidden="true">#</a></h2><p><strong>ç¯å¢ƒ: CentOS Linux release 7.5.1804 (Core)</strong><strong>é˜¿é‡Œäº‘ æœåŠ¡å™¨</strong></p><ul><li>æŒ‰ç…§æœ¬æ–‡çš„é…ç½®èƒ½å¤ŸæœåŠ¡å™¨æ·»åŠ sslè¯ä¹¦</li><li>å¼€å¯å…³é—­é˜²ç«å¢™</li><li>æ ¹æ®è®¾ç½®å¼€å¯é˜²ç«å¢™ç™½åå•</li></ul><h2 id="_1-è¿›å…¥é˜¿é‡Œäº‘åå°-è¿›å…¥ç®¡ç†æ§åˆ¶å°-åŸŸå" tabindex="-1">1. <strong>è¿›å…¥é˜¿é‡Œäº‘åå° è¿›å…¥<code>ç®¡ç†æ§åˆ¶å°</code>&gt;<code>åŸŸå</code></strong> <a class="header-anchor" href="#_1-è¿›å…¥é˜¿é‡Œäº‘åå°-è¿›å…¥ç®¡ç†æ§åˆ¶å°-åŸŸå" aria-hidden="true">#</a></h2><h2 id="_2-ç‚¹å‡»è“è‰²åŸŸåè¿›å…¥ä¸‹é¢é¡µé¢" tabindex="-1">2. <strong>ç‚¹å‡»<code>è“è‰²åŸŸå</code>è¿›å…¥ä¸‹é¢é¡µé¢</strong> <a class="header-anchor" href="#_2-ç‚¹å‡»è“è‰²åŸŸåè¿›å…¥ä¸‹é¢é¡µé¢" aria-hidden="true">#</a></h2><p><img src="https://c18e-1257416358.cos.accelerate.myqcloud.com/uPic/20190415095220405.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="_3-å…è´¹å¼€å¯sslè¯ä¹¦-é€‰æ‹©è¯ä¹¦-å¡«å†™è¦ç”³è¯·çš„å‰ç¼€-ä¾‹å¦‚-api-è¯ä¹¦-api-xxx-com" tabindex="-1">3. <strong><code>å…è´¹å¼€å¯SSLè¯ä¹¦</code>&gt;<code>é€‰æ‹©è¯ä¹¦</code>&gt;å¡«å†™è¦ç”³è¯·çš„å‰ç¼€(ä¾‹å¦‚: api è¯ä¹¦:api.XXX.com)</strong> <a class="header-anchor" href="#_3-å…è´¹å¼€å¯sslè¯ä¹¦-é€‰æ‹©è¯ä¹¦-å¡«å†™è¦ç”³è¯·çš„å‰ç¼€-ä¾‹å¦‚-api-è¯ä¹¦-api-xxx-com" aria-hidden="true">#</a></h2><p><img src="https://c18e-1257416358.cos.accelerate.myqcloud.com/uPic/20190415095926933.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://c18e-1257416358.cos.accelerate.myqcloud.com/uPic/20190415100205440.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="_4-ä¸‹è½½è¯ä¹¦" tabindex="-1">4. <strong>ä¸‹è½½è¯ä¹¦</strong> <a class="header-anchor" href="#_4-ä¸‹è½½è¯ä¹¦" aria-hidden="true">#</a></h2><p><img src="https://c18e-1257416358.cos.accelerate.myqcloud.com/uPic/20190415100326713.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><strong>é€‰æ‹©æœåŠ¡å™¨ç±»å‹ä¸‹è½½å®Œæ˜¯zipæ–‡ä»¶ æ–‡ä»¶åçš„ä¸‰æ®µä»£è¡¨ <code>id_åŸŸå_æœåŠ¡å™¨ é‡å‘½åæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä¸ºæ–¹ä¾¿è®°å¿†çš„</code></strong></p><blockquote><p><strong>æœ‰å¾ˆå¤šæ–¹å¼å¯ä»¥æŠŠè¯ä¹¦æ”¾å…¥æœåŠ¡å™¨ LZé€‰æ‹©çš„æ˜¯æ”¾åœ¨é¡¹ç›®ä¸­ é€šè¿‡githubçš„æ–¹å¼ä¸Šä¼ è‡³æœåŠ¡å™¨</strong></p></blockquote><ul><li><strong>æŠŠè¯ä¹¦æ–‡ä»¶å¤¹ æ”¾å…¥<code>/etc/nginx</code> (é»˜è®¤é…ç½®æ–‡ä»¶å¤¹)</strong></li><li><code>cp -rf è¯ä¹¦æ–‡ä»¶å¤¹ /etc/nginx </code></li><li><strong>æ‰“å¼€nginxä½ç½®æ–‡ä»¶<code>/etc/nginx/nginx.conf</code> (é»˜è®¤é…ç½®æ–‡ä»¶å¤¹)</strong></li><li><strong><code> vim /etc/nginx/nginx.conf</code></strong></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">  server {</span></span>\n<span class="line"><span style="color:#A6ACCD;">    listen 443;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    server_name www.abc.com;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl on;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    root /usr/share/nginx/html;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_certificate  cert/www.abc.com.pem;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_certificate_key cert/www.abc.com.key;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_session_timeout 5m;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    ssl_prefer_server_ciphers on;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    location / {</span></span>\n<span class="line"><span style="color:#A6ACCD;">         try_files $uri $uri/ /index.html;</span></span>\n<span class="line"><span style="color:#A6ACCD;">         access_log  /var/log/nginx/blog.log  main;</span></span>\n<span class="line"><span style="color:#A6ACCD;">      }</span></span>\n<span class="line"><span style="color:#A6ACCD;">    }</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span></span>\n<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>é…ç½®å®Œæˆä¿å­˜é€€å‡º</strong></p><h2 id="æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨" tabindex="-1"><strong>æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨</strong> <a class="header-anchor" href="#æµ‹è¯•é…ç½®æ˜¯å¦å¯ç”¨" aria-hidden="true">#</a></h2><blockquote><p><strong><code>nginx -t</code></strong></p></blockquote><blockquote><p><strong>å¦‚æœå‡ºç°ä¸‹é¢çš„å­—æ ·è¯´æ˜é…ç½®å¯ç”¨</strong><img src="https://c18e-1257416358.cos.accelerate.myqcloud.com/uPic/20190415102446978.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></blockquote><ul><li><strong>é‡è½½é…ç½®(é‡å¯nginx)</strong></li></ul><blockquote><p><strong><code>nginx -s reload</code></strong></p></blockquote><h2 id="é˜²ç«å¢™é…ç½®" tabindex="-1">é˜²ç«å¢™é…ç½® <a class="header-anchor" href="#é˜²ç«å¢™é…ç½®" aria-hidden="true">#</a></h2><p><strong>å› ä¸ºå®‰å…¨é—®é¢˜æ‰“å¼€æœåŠ¡å™¨é˜²ç«å¢™</strong></p><pre><code>å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl start firewalld.service\nå…³é—­ä¸€ä¸ªæœåŠ¡ï¼šsystemctl stop firewalld.service\né‡å¯ä¸€ä¸ªæœåŠ¡ï¼šsystemctl restart firewalld.service\næ˜¾ç¤ºä¸€ä¸ªæœåŠ¡çš„çŠ¶æ€ï¼šsystemctl status firewalld.service\nåœ¨å¼€æœºæ—¶å¯ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl enable firewalld.service\nåœ¨å¼€æœºæ—¶ç¦ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl disable firewalld.service\næŸ¥çœ‹æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨ï¼šsystemctl is-enabled firewalld.service;echo $?\næŸ¥çœ‹å·²å¯åŠ¨çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl list-unit-files|grep enabled\n</code></pre><p><strong>å› ä¸ºé¡¹ç›®ä¸­ä½¿ç”¨åˆ°æ•°æ®åº“æœ‰å…³å·¥å…· æ‰€ä»¥æ‰“å¼€é˜²ç«å¢™ å¯¼è‡´ç½‘ç«™ç«¯å£æ— æ³•è®¿é—®</strong></p><ul><li><strong>è§£å†³æ–¹æ³•:æ·»åŠ ç«¯å£80 443è¿‡æ»¤</strong></li></ul><blockquote><p><strong><code> firewall-cmd --zone=public --add-port=80/tcp --permanent</code></strong></p></blockquote><blockquote><p><strong><code>iptables -I INPUT -p tcp --dport 80 -j ACCEPT</code></strong></p></blockquote><blockquote><p><strong><code> firewall-cmd --zone=public --add-port=443/tcp --permanent</code></strong></p></blockquote><blockquote><p><strong><code>iptables -I INPUT -p tcp --dport 443 -j ACCEPT</code></strong></p></blockquote><p><strong>é‡æ–°å¯åŠ¨nginxå¤§åŠŸå‘Šæˆ</strong></p><p><strong>å…³äºé˜²ç«å¢™</strong></p><blockquote><p><strong><code>firewall-cmd --list-ports</code></strong></p></blockquote><p><strong>å¼€å¯ç«¯å£</strong></p><blockquote><p><strong><code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code></strong></p></blockquote><p><strong>å‘½ä»¤å«ä¹‰</strong></p><blockquote><p><strong><code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code></strong></p></blockquote><h2 id="å‘½ä»¤å«ä¹‰" tabindex="-1">å‘½ä»¤å«ä¹‰ï¼š <a class="header-anchor" href="#å‘½ä»¤å«ä¹‰" aria-hidden="true">#</a></h2><p><code>â€“zone</code> #ä½œç”¨åŸŸ</p><p><code>â€“add-port=80/tcp</code> #æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®®</p><p><code>â€“permanent</code> #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ</p><h2 id="é‡å¯é˜²ç«å¢™" tabindex="-1">é‡å¯é˜²ç«å¢™ <a class="header-anchor" href="#é‡å¯é˜²ç«å¢™" aria-hidden="true">#</a></h2><p><code>firewall-cmd --reload</code> #é‡å¯firewall <code>systemctl stop firewalld.service</code> #åœæ­¢firewall <code>systemctl disable firewalld.service</code> #ç¦æ­¢firewallå¼€æœºå¯åŠ¨ <code>firewall-cmd --state</code> #æŸ¥çœ‹é»˜è®¤é˜²ç«å¢™çŠ¶æ€ï¼ˆå…³é—­ã€‹notrunningï¼Œå¼€å¯ã€‹running</p>',42)];const c=e(a,[["render",function(e,l,o,a,c,r){return s(),n("div",null,t)}]]);export{o as __pageData,c as default};
