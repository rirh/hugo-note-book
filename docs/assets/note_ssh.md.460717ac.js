import{_ as s,o as a,c as n,a as l}from"./app.a5d386c5.js";const p=JSON.parse('{"title":"SSH 不完整使用指南","description":"","frontmatter":{},"headers":[{"level":2,"title":"本地链接SSH","slug":"本地链接ssh","link":"#本地链接ssh","children":[]},{"level":2,"title":"免密码登录服务器步骤","slug":"免密码登录服务器步骤","link":"#免密码登录服务器步骤","children":[]},{"level":2,"title":"1. 进入~/.ssh/文件夹生存密钥","slug":"_1-进入-ssh-文件夹生存密钥","link":"#_1-进入-ssh-文件夹生存密钥","children":[]},{"level":2,"title":"2. 拷贝共钥到服务器默认路径（生成的pub结尾文件）","slug":"_2-拷贝共钥到服务器默认路径-生成的pub结尾文件","link":"#_2-拷贝共钥到服务器默认路径-生成的pub结尾文件","children":[]},{"level":2,"title":"3. 登录服务器并进入服务器~/.ssh/文件夹","slug":"_3-登录服务器并进入服务器-ssh-文件夹","link":"#_3-登录服务器并进入服务器-ssh-文件夹","children":[]},{"level":2,"title":"4. .ssh文件夹下的authorized_keys尾部追加公钥文件内容","slug":"_4-ssh文件夹下的authorized-keys尾部追加公钥文件内容","link":"#_4-ssh文件夹下的authorized-keys尾部追加公钥文件内容","children":[]},{"level":2,"title":"5. 重启服务端ssh服务","slug":"_5-重启服务端ssh服务","link":"#_5-重启服务端ssh服务","children":[]},{"level":2,"title":"6. 回到客户端在~/.ssh/下新建config文件","slug":"_6-回到客户端在-ssh-下新建config文件","link":"#_6-回到客户端在-ssh-下新建config文件","children":[]},{"level":2,"title":"完整脚本流程","slug":"完整脚本流程","link":"#完整脚本流程","children":[]}],"relativePath":"note/ssh.md"}'),e={name:"note/ssh.md"},o=[l('<h1 id="ssh-不完整使用指南" tabindex="-1">SSH 不完整使用指南 <a class="header-anchor" href="#ssh-不完整使用指南" aria-hidden="true">#</a></h1><h2 id="本地链接ssh" tabindex="-1">本地链接SSH <a class="header-anchor" href="#本地链接ssh" aria-hidden="true">#</a></h2><table><thead><tr><th>代码</th><th>含义</th></tr></thead><tbody><tr><td><code>ssh-keygen -t rsa -f</code> <strong>NAME</strong></td><td>生成密钥</td></tr><tr><td><code>scp blog.pub root@101.201.234.154:.</code></td><td>拷贝文件到指定服务器默认路径</td></tr><tr><td>cat FILE1 &gt;&gt; FILE2</td><td>将文件一的内容追加的文件二里面</td></tr><tr><td><code>systemctl restart sshd</code></td><td>重启ssh服务</td></tr><tr><td><code>ssh-keygen -t rsa -C</code> <strong>EMAIL</strong></td><td>生成git ssh key</td></tr></tbody></table><h2 id="免密码登录服务器步骤" tabindex="-1">免密码登录服务器步骤 <a class="header-anchor" href="#免密码登录服务器步骤" aria-hidden="true">#</a></h2><h2 id="_1-进入-ssh-文件夹生存密钥" tabindex="-1">1. 进入<code>~/.ssh/</code>文件夹生存密钥 <a class="header-anchor" href="#_1-进入-ssh-文件夹生存密钥" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ssh-keygen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rsa</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">NAME</span></span>\n<span class="line"></span></code></pre></div><h2 id="_2-拷贝共钥到服务器默认路径-生成的pub结尾文件" tabindex="-1">2. 拷贝共钥到服务器默认路径（生成的pub结尾文件） <a class="header-anchor" href="#_2-拷贝共钥到服务器默认路径-生成的pub结尾文件" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">scp FILENAME root@101.201.234.154:.</span></span>\n<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="_3-登录服务器并进入服务器-ssh-文件夹" tabindex="-1">3. 登录服务器并进入服务器<code>~/.ssh/</code>文件夹 <a class="header-anchor" href="#_3-登录服务器并进入服务器-ssh-文件夹" aria-hidden="true">#</a></h2><h2 id="_4-ssh文件夹下的authorized-keys尾部追加公钥文件内容" tabindex="-1">4. .ssh文件夹下的authorized_keys尾部追加公钥文件内容 <a class="header-anchor" href="#_4-ssh文件夹下的authorized-keys尾部追加公钥文件内容" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">FILE1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">FILE2</span></span>\n<span class="line"></span></code></pre></div><h2 id="_5-重启服务端ssh服务" tabindex="-1">5. 重启服务端ssh服务 <a class="header-anchor" href="#_5-重启服务端ssh服务" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">systemctl restart sshd</span></span>\n<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="_6-回到客户端在-ssh-下新建config文件" tabindex="-1">6. 回到客户端在<code>~/.ssh/</code>下新建config文件 <a class="header-anchor" href="#_6-回到客户端在-ssh-下新建config文件" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Host</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">HostName</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">101.201.234.154</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//服务器ip</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;">                  </span><span style="color:#C3E88D;">//默认的端口</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">User</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">//用户名</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">IdentityFile</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/blog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//私钥文件</span></span>\n<span class="line"></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">此时使用 ssh blog 将直接登录服务器 如果有错误可能是需要删除原来生成的known_hosts的文件就可以了</span></span>\n<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="完整脚本流程" tabindex="-1">完整脚本流程 <a class="header-anchor" href="#完整脚本流程" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">ssh-keygen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rsa</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">scp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog.pub</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root@101.201.234.154:.</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root@101.201.234.154</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/blog.pub</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/authorized_keys</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sshd</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#89DDFF;">***********************</span><span style="color:#A6ACCD;"> config </span><span style="color:#89DDFF;">*********************</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#FFCB6B;">Host</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">HostName</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">101.201.234.154</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//服务器ip</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;">                  </span><span style="color:#C3E88D;">//默认的端口</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">User</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">//用户名</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">IdentityFile</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/blog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">//私钥文件</span></span>\n<span class="line"><span style="color:#A6ACCD;">   </span></span>\n<span class="line"><span style="color:#89DDFF;">***********************</span><span style="color:#A6ACCD;"> config </span><span style="color:#89DDFF;">*********************</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">known_hosts</span><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#FFCB6B;">删除内容</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dd后esc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">冒号wq</span></span>\n<span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog</span></span>\n<span class="line"></span>\n<span class="line"></span></code></pre></div>',18)];const t=s(e,[["render",function(s,l,p,e,t,c){return a(),n("div",null,o)}]]);export{p as __pageData,t as default};
